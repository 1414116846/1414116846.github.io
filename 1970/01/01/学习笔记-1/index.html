<!DOCTYPE html><html lang="zh_CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>学习笔记 | 奇犽不爱健身</title><meta name="author" content="爱摆烂的奇犽"><meta name="copyright" content="爱摆烂的奇犽"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="hello word~">
<meta property="og:type" content="article">
<meta property="og:title" content="学习笔记">
<meta property="og:url" content="http://1414116846.github.io/1970/01/01/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-1/index.html">
<meta property="og:site_name" content="奇犽不爱健身">
<meta property="og:description" content="hello word~">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/1414116846/bloglmages@main/C:%5Chexo%5Csource%5Cpic7975408281e749e489194eb45d269110.png">
<meta property="article:published_time" content="1970-01-01T00:00:02.023Z">
<meta property="article:modified_time" content="2023-11-02T12:45:59.575Z">
<meta property="article:author" content="爱摆烂的奇犽">
<meta property="article:tag" content="笔记">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/1414116846/bloglmages@main/C:%5Chexo%5Csource%5Cpic7975408281e749e489194eb45d269110.png"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/1414116846/bloglmages@main/C:%5Chexo%5Csource%5Cpic20231028220510.png"><link rel="canonical" href="http://1414116846.github.io/1970/01/01/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-1/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":true,"languages":{"hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '学习笔记',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-11-02 20:45:59'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><script src="/live2d-widget/autoload.js"></script><link rel="alternate" href="/atom.xml" title="奇犽不爱健身" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.postimg.cc/kXfPYMJq/61-B873-E5-E4-E1560-BF176671412-B9-C1-C5.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">12</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/html/index.html"><span> 花</span></a></div><div class="menus_item"><a class="site-page" href="/html/z.html"><span> 心</span></a></div><div class="menus_item"><a class="site-page" href="/html/%E7%B2%92%E5%AD%90.html"><span> live</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/gh/1414116846/bloglmages@main/C:%5Chexo%5Csource%5Cpic7975408281e749e489194eb45d269110.png')"><nav id="nav"><span id="blog-info"><a href="/" title="奇犽不爱健身"><span class="site-name">奇犽不爱健身</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/html/index.html"><span> 花</span></a></div><div class="menus_item"><a class="site-page" href="/html/z.html"><span> 心</span></a></div><div class="menus_item"><a class="site-page" href="/html/%E7%B2%92%E5%AD%90.html"><span> live</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">学习笔记</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="1970-01-01T00:00:02.023Z" title="Created 1970-01-01 08:00:02">1970-01-01</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2023-11-02T12:45:59.575Z" title="Updated 2023-11-02 20:45:59">2023-11-02</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="学习笔记"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h3 id="oracle体系架构总览图，必须掌握该图，了如指掌"><a href="#oracle体系架构总览图，必须掌握该图，了如指掌" class="headerlink" title="oracle体系架构总览图，必须掌握该图，了如指掌"></a><a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=oracle&spm=1001.2101.3001.7020">oracle</a>体系架构总览图，必须掌握该图，了如指掌</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/1414116846/bloglmages@main/C:%5Chexo%5Csource%5Cpicc2b9f6ccd6e549b1b6eac1d4e08dd05a.png"></p>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><h4 id="1-Oracle-server"><a href="#1-Oracle-server" class="headerlink" title="1.Oracle server"></a>1.Oracle server</h4><p>一整套软件，是一个<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E6%95%B0%E6%8D%AE%E5%BA%93&spm=1001.2101.3001.7020">数据库</a>管理系统，它为信息管理提供了一种开放、全面、集成的方法;</p>
<p>包含Instance和<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=Database&spm=1001.2101.3001.7020">Database</a>。</p>
<h4 id="2-Oracle-Instance"><a href="#2-Oracle-Instance" class="headerlink" title="2.Oracle Instance"></a>2.Oracle Instance</h4><ul>
<li>是访问Oracle数据库的一种方法;</li>
<li>Instancce由内存和后台进程组成；</li>
<li>Instance和Database是多对一的关系。</li>
</ul>
<h5 id="关键组成："><a href="#关键组成：" class="headerlink" title="关键组成："></a>关键组成：</h5><ol>
<li><p>后台进程（Background Processes）：这些进程在数据库实例运行期间负责各种后台任务，如数据库恢复、故障监控、日志写入等。其中一些重要的进程包括 SMON、PMON、DBWn、LGWR、CKPT 等。</p>
</li>
<li><p>System Global Area (SGA)：SGA 是 Oracle 数据库在共享内存中的部分，用于存储和管理重要的数据结构和缓冲区。SGA 包括数据库缓冲区、共享池、重做日志缓冲区等。SGA 的大小和配置可以通过参数进行管理和调整，以满足系统的需求。</p>
</li>
<li><p>数据字典（Data Dictionary）：数据字典是 Oracle 数据库的元数据存储，包含了关于数据库对象（如表、索引、视图等）和用户的描述信息。它提供了对数据库结构的访问和查询。</p>
</li>
<li><p>用户进程（User Processes）：用户进程是指连接到数据库的客户端应用程序进程，它们通过网络与数据库实例进行通信，发送 SQL 语句并接收结果。</p>
</li>
<li><p>PGA（Program Global Area）：PGA 是每个用户进程或服务器进程的私有内存区域，用于存储并管理特定会话的数据和资源。</p>
</li>
</ol>
<h5 id="进程结构："><a href="#进程结构：" class="headerlink" title="进程结构："></a>进程结构：</h5><ol>
<li><p>用户进程（User Processes）：简单说就是用户客户端为了连接数据库而存在的进程<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/1414116846/bloglmages@main/C:%5Chexo%5Csource%5Cpic7975408281e749e489194eb45d269110.png"></p>
</li>
<li><p>服务器进程（Server Processes）：服务器进程是 Oracle 数据库中用于处理用户请求的主要执行者。当用户进程发送 SQL 请求时，服务器进程负责解析和执行该请求，访问存储在数据库中的数据，并返回结果给用户进程。服务器进程还负责协调并管理与其他进程之间的通信，如与后台进程的交互和数据传输。<br>IPC&amp;TCP&#x2F;IPIPC是一种在同一主机上的进程之间进行通信的机制TCP&#x2F;IP是一组通信协议，用于在网络上实现进程间通信。</p>
</li>
<li><p>后台进程（Background Processes）：后台进程是在数据库实例运行期间负责各种后台任务的特殊进程。这些进程在后台运行，并在数据库管理和维护方面发挥重要作用。</p>
</li>
</ol>
<ul>
<li><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/c45063dc6919428eb0b40aa5920c0eb9.png"></p>
</li>
<li><p>DBWn：将Database Buffer Cache数据写入Data files</p>
</li>
<li><p>LGWR：将<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=Redo&spm=1001.2101.3001.7020">Redo</a> Log Buffer数据写入Redo Log files</p>
</li>
<li><p>SMON： 清理垃圾</p>
</li>
<li><p>PMON：监控各个进程</p>
</li>
<li><p>CKPT：检查点进程</p>
</li>
<li><p>ARCn：归档进程</p>
</li>
</ul>
<p>比较形象的拿三者打比方，Background Processes是生产线上的工人，User Processes是客户，Server Processes是销售；</p>
<h4 id="3-Oracle-Database"><a href="#3-Oracle-Database" class="headerlink" title="3.Oracle Database"></a>3.Oracle Database</h4><p>是作为一个单元处理的数据集合；</p>
<p>由三种文件类型组成（Data files 数据文件，Control files 控制文件，RedoLog files 重做日志文件）</p>
<ul>
<li><h5 id="Data-files"><a href="#Data-files" class="headerlink" title="Data files"></a>Data files</h5></li>
</ul>
<p>存储数据的文件</p>
<ul>
<li><h5 id="Control-files"><a href="#Control-files" class="headerlink" title="Control files"></a>Control files</h5></li>
</ul>
<p>为了操作数据文件的文件，主要提供控制信息</p>
<ul>
<li><h5 id="RedoLog-files"><a href="#RedoLog-files" class="headerlink" title="RedoLog files"></a>RedoLog files</h5></li>
</ul>
<p>记录数据库的改变，用于恢复数据文件</p>
<ul>
<li><h5 id="其他文件"><a href="#其他文件" class="headerlink" title="其他文件"></a>其他文件</h5></li>
</ul>
<p>Parameter file 参数文件</p>
<p>Password file 存储口令的文件</p>
<p>Archived <a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=Log&spm=1001.2101.3001.7020">Log</a> files 归档日志文件</p>
<h5 id="Oracle-database的特点"><a href="#Oracle-database的特点" class="headerlink" title="Oracle database的特点"></a>Oracle database的特点</h5><ol>
<li><p>可靠性和稳定性：Oracle Database 采用了许多高可用和容错机制，例如故障恢复、数据冗余和备份恢复等，以确保数据的安全性和可靠性。</p>
</li>
<li><p>可扩展性：Oracle Database 支持横向和纵向的扩展，可以根据需要增加处理能力和存储容量，以适应不断增长的数据和用户需求。</p>
</li>
<li><p>数据安全性：Oracle Database 提供了强大的安全功能，包括用户认证、授权、数据加密和审计等，以保护敏感数据免受未经授权的访问和操作。</p>
</li>
<li><p>多模型数据库：除了传统的关系数据库模型，Oracle Database 还支持多种其他数据模型，如空间数据、XML 数据、图形数据和对象数据等，以满足不同类型的数据存储和处理需求。</p>
</li>
<li><p>高性能：Oracle Database 优化了查询引擎和数据存储结构，采用了先进的查询优化器和并行处理技术，以实现高效的数据查询和处理性能。</p>
</li>
<li><p>数据管理和分析功能：Oracle Database 提供了丰富的数据管理和分析工具，包括数据备份和恢复、数据复制和同步、报表生成和数据挖掘等，使用户能够更好地管理和利用数据。</p>
</li>
<li><p>可定制性：Oracle Database 支持存储过程、触发器和自定义函数等可编程对象，并提供了灵活的扩展机制和开发工具，以便用户根据自己的需求进行定制和扩展。</p>
</li>
</ol>
<h4 id="4-Connection-Session-（连接与会话）"><a href="#4-Connection-Session-（连接与会话）" class="headerlink" title="4.Connection &amp; Session （连接与会话）"></a>4.Connection &amp; Session （连接与会话）</h4><p>两者相辅相成</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/ff7a60ff207f40d48a3178461a917391.png"></p>
<ul>
<li><h5 id="connection"><a href="#connection" class="headerlink" title="connection"></a>connection</h5></li>
</ul>
<p>oracle客户端和后台服务器进程建立的TCP连接。连接表示应用程序或用户与数据库服务器之间的物理连接。通过连接，应用程序可以与数据库建立通信渠道，并发送和接收数据。连接是一种底层的网络通信机制，通常由连接字符串、用户名、密码和数据库服务器地址等信息组成。</p>
<ul>
<li><h5 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h5></li>
</ul>
<p>会话是一个逻辑概念，表示在数据库中的一段活动期间。在一个连接上，可以创建一个或多个会话，每个会话都对应于一个用户或应用程序与数据库之间的特定工作环境。会话跟踪了特定用户或应用程序的活动和状态，包括变量、临时表和已打开的游标等。一旦会话建立，用户可以通过会话执行 SQL 语句、修改数据和查询数据库等操作。</p>
<h4 id="5-Memory-Structure"><a href="#5-Memory-Structure" class="headerlink" title="5.Memory Structure"></a>5.Memory Structure</h4><p>主要分为两个结构：SGA,PGA</p>
<ul>
<li><h5 id="SGA（System-Global-Area）："><a href="#SGA（System-Global-Area）：" class="headerlink" title="SGA（System Global Area）："></a>SGA（System Global Area）：</h5></li>
</ul>
<p>是 Oracle 数据库的内存区域，用于存储数据库实例运行时的重要数据结构和数据缓存。</p>
<ol>
<li><p>数据库缓冲区（Database Buffer Cache）：用于存储从磁盘读取的数据块的副本，以提高访问速度。数据库缓冲区主要用于减少磁盘 I&#x2F;O 操作，优化数据访问性能。</p>
</li>
<li><p>共享池（Shared Pool）：包括共享 SQL Area 和共享数据字典缓存。共享 SQL Area 存储 SQL 语句的解析树和执行计划等信息，以便共享和重用相同的 SQL 语句。共享数据字典缓存存储数据库对象的元数据（如表、索引、视图等）信息，以提高数据字典访问的效率。</p>
</li>
<li><p>重做日志缓冲区（Redo Log Buffer）：用于存储数据库的重做日志，记录数据库操作的详细信息。通过重做日志，Oracle 可以保证数据库的持久性和恢复能力。</p>
</li>
<li><p>Java 池（Java Pool）：用于存储 Oracle 数据库中使用 Java 编程语言编写的应用程序的数据和执行环境。</p>
</li>
<li><p>大池（Large Pool）：用于存储辅助性数据结构和更大的内存块，如备份和恢复操作期间的临时数据缓存。</p>
</li>
</ol>
<p>查看每个组成部分和大小<br>    select component, granule_size from v$sga_dynamic_components;</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/33234739a875498eb959f18bea4344a6.png"></p>
<ul>
<li><h5 id="PGA（Program-Global-Area）："><a href="#PGA（Program-Global-Area）：" class="headerlink" title="PGA（Program Global Area）："></a>PGA（Program Global Area）：</h5></li>
</ul>
<p>是 Oracle 数据库的内存区域，用于存储每个用户进程或服务器进程的私有数据和管理相关资源。</p>
<ol>
<li><p>排序区域（Sort Area）：用于存储排序操作（如 <code>ORDER BY</code> 或连接操作）生成的临时数据。</p>
</li>
<li><p>连接高速缓存（Cursor Cache）：用于存储 SQL 语句的执行计划、解析树和相关元数据信息。这样可以避免对重复 SQL 语句进行解析和优化，提高性能。</p>
</li>
<li><p>栈区域（Stack Area）：用于存储每个用户进程或服务器进程的变量、参数和函数调用信息。栈区域是用来管理进程间的通信和执行函数的关键内存区域之一。</p>
</li>
<li><p>PL&#x2F;SQL 区域（PL&#x2F;SQL Area）：用于存储 PL&#x2F;SQL 存储过程和函数的字节码和运行时数据。</p>
</li>
</ol>
<h4 id="6-Oracle逻辑结构"><a href="#6-Oracle逻辑结构" class="headerlink" title="6.Oracle逻辑结构"></a>6.Oracle逻辑结构</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/7e340b687bd24137a1c51b1ce72a4ea0.png"></p>
<p>一个Oracle server上只有一个database，一个database可以有多个tablespace——一个extent是一些连续的blocks</p>
<h2 id="DBA工具"><a href="#DBA工具" class="headerlink" title="DBA工具"></a>DBA工具</h2><h3 id="1-Oracle-Universal-Installer（OUI）"><a href="#1-Oracle-Universal-Installer（OUI）" class="headerlink" title="1.Oracle Universal Installer（OUI）"></a>1.<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=Oracle&spm=1001.2101.3001.7020">Oracle</a> Universal Installer（OUI）</h3><ul>
<li><p>用于安装、升级或移除软件组件</p>
</li>
<li><p>基于Java引擎</p>
</li>
<li><p>功能包括：</p>
</li>
</ul>
<ol>
<li><p>自动依赖解析</p>
</li>
<li><p>网络安装跟踪</p>
</li>
<li><p>库存管理</p>
</li>
<li><p>卸载已安装组件</p>
</li>
<li><p>多个Oracle Home 支持</p>
</li>
<li><p>全球化技术支持</p>
</li>
</ol>
<ul>
<li>交互式启动OUI</li>
</ul>
<p>UNIX：<br>    .&#x2F;runInstaller</p>
<p>NT：</p>
<p>Start &gt; Programs &gt; Oracle Installation &gt; Products &gt; Universal Installer</p>
<ul>
<li>非交互式安装</li>
</ul>
<p> </p>
<p>事先准备响应文件myrespfile<br>    .&#x2F;runInstaller -responsefile myrespfile -silent</p>
<h3 id="2-Oracle-Database-Configuration（DBCA）"><a href="#2-Oracle-Database-Configuration（DBCA）" class="headerlink" title="2.Oracle Database Configuration（DBCA）"></a>2.Oracle Database Configuration（DBCA）</h3><p>与OUI交互的<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2&spm=1001.2101.3001.7020">图形用户界面</a>工具，或者可以独立使用，以创建、删除或修改数据库</p>
<h4 id="数据库管理员用户"><a href="#数据库管理员用户" class="headerlink" title="数据库管理员用户"></a>数据库管理员用户</h4><ul>
<li><h5 id="系统会自动创建“SYS”和“SYSTEM”用户"><a href="#系统会自动创建“SYS”和“SYSTEM”用户" class="headerlink" title="系统会自动创建“SYS”和“SYSTEM”用户"></a>系统会自动创建“SYS”和“SYSTEM”用户</h5></li>
</ul>
<p>在<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93&spm=1001.2101.3001.7020">创建数据库</a>期间,授予DBA角色</p>
<ul>
<li><h5 id="User-SYS"><a href="#User-SYS" class="headerlink" title="User SYS"></a>User SYS</h5></li>
</ul>
<p>数据库数据字典的所有者</p>
<ul>
<li><h5 id="User-SYSTEM"><a href="#User-SYSTEM" class="headerlink" title="User SYSTEM"></a>User SYSTEM</h5></li>
</ul>
<p>Oracle工具使用的其他内部表和视图的所有者</p>
<h3 id="3-SQL-Plus"><a href="#3-SQL-Plus" class="headerlink" title="3.SQL*Plus"></a><u>3.SQL*Plus</u></h3><ul>
<li>Oracle工具提供:</li>
</ul>
<p>与数据库交互和操作的能力</p>
<p>能够启动和关闭数据库、创建和运行查询、添加行、修改数据和编写自定义报告</p>
<ul>
<li><p>具有特定附加组件的标准SQL语言的子集</p>
</li>
<li><p>连接到SQL*Plus:<br>sqlplus &#x2F;nologconnect &#x2F; as sysdbastartup</p>
</li>
</ul>
<h3 id="4-Oracle-Enterprise-Manager（了解）"><a href="#4-Oracle-Enterprise-Manager（了解）" class="headerlink" title="4.Oracle Enterprise Manager（了解）"></a>4.Oracle Enterprise Manager（了解）</h3><ul>
<li>作为dba的集中式系统管理工具</li>
<li>用于管理、诊断和调优多个数据库的工具</li>
<li>用于管理来自多个位置的多个网络节点和服务的工具</li>
<li>用于与其他管理员共享任务</li>
<li>提供用于管理并行服务器和复制数据库的工具</li>
</ul>
<h2 id="初始化参数文件"><a href="#初始化参数文件" class="headerlink" title="初始化参数文件"></a><a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8F%82%E6%95%B0&spm=1001.2101.3001.7020">初始化参数</a>文件</h2><p>初始化参数文件是<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=Oracle&spm=1001.2101.3001.7020">Oracle</a>数据库启动时使用的配置文件，分显式和隐式两种，它包含了数据库实例的各种参数设置。初始化参数文件可以是PFILE（文本文件）或SPFILE（二进制文件），它们定义了数据库实例的行为、内存分配、并发处理、日志记录等方面的设置。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/18d0987cf579475d91a4462fa207bab1.png"></p>
<h3 id="-1"><a href="#-1" class="headerlink" title=""></a></h3><h3 id="PFILE"><a href="#PFILE" class="headerlink" title="PFILE"></a>PFILE</h3><p>文本文件，使用操作系统编辑器修改，手动修改</p>
<p>更改将在下次启动时生效，只在实例启动时打开</p>
<p>默认位置为“$ORACLE_HOME&#x2F;dbs”</p>
<h4 id="创建一个PFILE"><a href="#创建一个PFILE" class="headerlink" title="创建一个PFILE"></a>创建一个PFILE</h4><p>从示例init.ora文件创建</p>
<blockquote>
<p>由Oracle Universal Installer安装的示例</p>
<p>使用操作系统复制命令复制示例</p>
<p>由<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E6%95%B0%E6%8D%AE%E5%BA%93&spm=1001.2101.3001.7020">数据库</a>SID唯一标识</p>
</blockquote>
<pre><code>cp init.ora $ORACLE_HOME/dbs/initdba01.ora
</code></pre>
<h4 id="修改initSID-ora"><a href="#修改initSID-ora" class="headerlink" title="修改initSID.ora"></a>修改initSID.ora</h4><p>修改 “initsid.ora” 文件是更改 Oracle 数据库实例的初始化参数的方法之一。以下是修改过程的一般步骤：</p>
<ol>
<li><p>找到 “initsid.ora” 文件：该文件通常位于 $ORACLE_HOME&#x2F;dbs 目录中，其中 “sid” 是数据库实例的标识符。例如，如果实例名为 “ORCL”，则文件路径为 $ORACLE_HOME&#x2F;dbs&#x2F;initorcl.ora。</p>
</li>
<li><p>备份原始文件：在进行任何修改之前，强烈建议先备份原始的 “initsid.ora” 文件，以便在需要时进行恢复。</p>
</li>
<li><p>使用文本编辑器打开 “initsid.ora” 文件：可以使用任何文本编辑器（如记事本、Vi、Nano等）打开文件。</p>
</li>
<li><p>修改参数值：在打开的文件中，找到相应的参数行，并更改其值。参数行通常采用 “参数名&#x3D;值” 的形式。</p>
</li>
<li><p>保存文件：在完成参数修改后，保存 “initsid.ora” 文件。</p>
</li>
<li><p>重启数据库实例：要使参数修改生效，需要重启对应的数据库实例。可以使用 SQL*Plus 或 Oracle Enterprise Manager 等工具，或者使用命令行执行 “shutdown” 和 “startup” 命令来重启实例。</p>
</li>
</ol>
<blockquote>
<p>注意，修改 “initsid.ora” 文件是一项敏感任务，错误的参数设置可能会导致数据库实例无法启动或运行异常。因此，在修改之前，请确保对各个参数的含义和取值范围有一定的了解，并仔细验证和测试修改的效果。</p>
</blockquote>
<h3 id="-2"><a href="#-2" class="headerlink" title=""></a></h3><h3 id="SPFILE"><a href="#SPFILE" class="headerlink" title="SPFILE"></a>SPFILE</h3><p>SPFILE是Oracle数据库系统中的一个服务器参数文件，</p>
<p>它类似于PFILE，但与PFILE不同的是SPFILE是一个二进制文件而非纯文本文件。</p>
<p>SPFILE中包含了数据库实例的配置和初始化参数。</p>
<h4 id="创建一个SPFILE"><a href="#创建一个SPFILE" class="headerlink" title="创建一个SPFILE"></a>创建一个SPFILE</h4><ul>
<li>从PFILE文件创建<br>CREATE SPFILE &#x3D; ‘$ORACLE_HOME&#x2F;dbs&#x2F;spfileDBA01.ora’FROM PFILE &#x3D; ‘$ORACLE_HOME&#x2F;dbs&#x2F;initDBA01.ora’;</li>
</ul>
<blockquote>
<p>位置</p>
<p>SPFILE- NAME：要创建的SPFILE</p>
<p>PFILE- NAME：创建SPFILE的PFILE</p>
</blockquote>
<ul>
<li>可以在实例启动之前或之后执行</li>
</ul>
<h4 id="修改spfileSID-ora"><a href="#修改spfileSID-ora" class="headerlink" title="修改spfileSID.ora"></a>修改spfileSID.ora</h4><p> spfileSID.ora 文件无法直接编译，因为它是一个二进制文件。如果需要修改其中的参数值，应使用 ALTER SYSTEM 命令。</p>
<h5 id="以下是修改-spfileSID-ora-的一般步骤："><a href="#以下是修改-spfileSID-ora-的一般步骤：" class="headerlink" title="以下是修改 spfileSID.ora 的一般步骤："></a>以下是修改 spfileSID.ora 的一般步骤：</h5><ol>
<li><p>备份原始文件：在修改之前，请务必备份原始的 spfileSID.ora 文件，以便在需要时进行恢复。</p>
</li>
<li><p>使用 SQL*Plus 连接到数据库实例：打开命令行窗口，使用适当的凭据连接到目标数据库实例。</p>
</li>
<li><p>检查当前的 SPFILE 设置：使用以下命令检查当前正在使用的 SPFILE 设置：<br>SHOW PARAMETER spfile;</p>
</li>
<li><p>修改参数值：使用 ALTER SYSTEM 命令修改参数值。例如，要将 my_parameter 参数的值更改为 new_value，可以执行以下命令：<br>ALTER SYSTEM SET my_parameter&#x3D;’new_value’ SCOPE&#x3D;SPFILE;</p>
</li>
<li><p>保存修改：重新<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%90%AF%E5%8A%A8%E6%95%B0%E6%8D%AE%E5%BA%93&spm=1001.2101.3001.7020">启动数据库</a>实例，以便新的参数设置生效。<br>SHUTDOWN IMMEDIATE;STARTUP;</p>
</li>
</ol>
<h6 id="更加详细的说明修改PFILE"><a href="#更加详细的说明修改PFILE" class="headerlink" title="更加详细的说明修改PFILE"></a>更加详细的说明修改PFILE</h6><pre><code>Alter system set parameter=value &lt;comment=&#39;text&#39;&gt; &lt;deferred&gt; &lt;scope=memory|spfile|both&gt; &lt;sid=&#39;sid|*&#39;&gt;
</code></pre>
<ul>
<li>parameter: 要修改的参数名称。</li>
<li>value: 新的参数值。</li>
<li>COMMENT&#x3D;‘text’ (可选): 可以添加对参数修改的注释。</li>
<li>DEFERRED (可选): 如果使用 DEFERRED 关键字，参数修改将被延迟到下一次数据库实例启动时才生效。</li>
<li>SCOPE&#x3D;MEMORY|SPFILE|BOTH (可选): 指定参数的生命周期范围。可选的值有：MEMORY（仅在内存中修改，需要重新启动实例才生效）、SPFILE（修改并保存到服务器参数文件，需要重启实例才生效）和 BOTH（修改并保存到服务器参数文件和内存，需要重启实例才生效）。</li>
<li>SID&#x3D;‘sid|_’ (可选): 指定要修改的数据库实例的 SID。默认情况下，参数修改将应用于当前实例。使用 ‘_’ 表示对所有实例生效。</li>
</ul>
<blockquote>
<p>注意，SPFILE 是一个二进制文件，直接编辑会导致文件损坏。因此，如果需要修改其中的参数值，请使用 ALTER SYSTEM 命令，并按照上述步骤进行操作。</p>
</blockquote>
<h3 id="SPFILE-vs-PFILE"><a href="#SPFILE-vs-PFILE" class="headerlink" title="SPFILE vs PFILE"></a>SPFILE vs PFILE</h3><p>1.SPFILE可以被RMAN备份(RMAN不能备份PFILEs)；</p>
<ol start="2">
<li>减少人为错误，SPFILE由服务器维护，在接受更改之前检查参数；</li>
</ol>
<p>3.消除配置问题(如果您想从数据库启动Oracle，则无需使用本地PFILE远程机械）；</p>
<ol start="4">
<li>容易找到位置存储在一个集中位置。</li>
</ol>
<blockquote>
<p>SPFILE比PFILE好!</p>
<p>尽量用SPFILE</p>
</blockquote>
<h3 id="-3"><a href="#-3" class="headerlink" title=""></a></h3><h2 id="Oracle数据库启动"><a href="#Oracle数据库启动" class="headerlink" title="Oracle数据库启动"></a>Oracle数据库启动</h2><h3 id="-4"><a href="#-4" class="headerlink" title=""></a></h3><h3 id="启动命令行为"><a href="#启动命令行为" class="headerlink" title="启动命令行为"></a>启动命令行为</h3><h4 id="优先顺序"><a href="#优先顺序" class="headerlink" title="优先顺序"></a>优先顺序</h4><ul>
<li>spfileSID.ora</li>
<li>Default SPFILE &gt; spfile.ora</li>
<li>initSID.ora</li>
<li>Default PFILE &gt; ???</li>
</ul>
<h4 id="指定的PFILE可以覆盖优先级"><a href="#指定的PFILE可以覆盖优先级" class="headerlink" title="指定的PFILE可以覆盖优先级"></a>指定的PFILE可以覆盖优先级</h4><pre><code>STARTUP PFILE = $ORACLE_HOME/dbs/initDBA1.ora
</code></pre>
<h4 id="PFILE可以指示使用SPFILE"><a href="#PFILE可以指示使用SPFILE" class="headerlink" title="PFILE可以指示使用SPFILE"></a>PFILE可以指示使用SPFILE</h4><pre><code>SPFILE = /database/stsrtup/spfileDBA.ora
</code></pre>
<h3 id="谁可以启动DB"><a href="#谁可以启动DB" class="headerlink" title="谁可以启动DB?"></a>谁可以启动DB?</h3><p>数据库启动和关闭是功能强大的管理选项，仅限于具有管理员权限连接到Oracle数据库的用户。根据操作系统的不同，以下条件之一可以为用户建立管理员权限：</p>
<ul>
<li>用户的操作系统权限允许他或她使用管理员权限进行连接。</li>
<li>该用户被授予SYSDBA或SYSOPER权限，数据库使用密码文件对数据库管理员进行身份验证。</li>
</ul>
<p>当您使用SYSDBA权限进行连接时，您处于SYS所拥有的模式中。当您以SYSOPER身份连接时，您处于公共模式中。SYSOPER权限区域是SYSDBA权限的子集（SYSDBA比SYSOPER牛*）。</p>
<h3 id="-5"><a href="#-5" class="headerlink" title=""></a></h3><h3 id="数据库启动的过程："><a href="#数据库启动的过程：" class="headerlink" title="数据库启动的过程："></a>数据库启动的过程：</h3><p>startup</p>
<p>———————————-&gt;</p>
<p>Control file opened for this instance</p>
<p>          |</p>
<p>shutdown———————&gt;nomount————–&gt;mount————————-&gt;open</p>
<p>|                                                                         |</p>
<p>instance started                                    All files opened as described by</p>
<p>                                                          the control file for this instance</p>
<p>&lt;————————————</p>
<p>shutdown</p>
<h4 id="Instance如何started"><a href="#Instance如何started" class="headerlink" title="Instance如何started"></a>Instance如何started</h4><pre><code>startup nomount
</code></pre>
<p>当Oracle数据库启动一个实例时，它会读取服务器参数文件(SPFILE)或初始化参数文件，以确定初始化参数的值。然后，它分配一个SGA，这是一个用于数据库信息的共享内存区域，并创建后台进程。此时，没有数据库与这些内存结构和进程相关联。</p>
<p>当实例启动时，数据库以有效的参数语法将所有显式参数设置写入日志日志。如果需要，您可以将日志文件调出来恢复，然后重新启动实例。</p>
<h4 id="DB怎么被Mounted"><a href="#DB怎么被Mounted" class="headerlink" title="DB怎么被Mounted"></a>DB怎么被Mounted</h4><pre><code>alter database mount;
</code></pre>
<p>实例挂载数据库以将数据库与该实例关联。要挂载数据库，实例找到数据库控制文件并打开它们。控制文件在用于启动实例的参数文件中的CONTROL_FILES初始化参数中指定。然后，Oracle数据库读取控制文件，以获得数据库的数据文件和重做日志文件的名称。</p>
<p>此时，数据库仍处于关闭状态，只有数据库管理员可以访问。数据库管理员可以在完成特定维护操作时保持数据库关闭状态。但是，该数据库还不能用于正常操作。</p>
<h4 id="DB怎样Opened"><a href="#DB怎样Opened" class="headerlink" title="DB怎样Opened"></a>DB怎样Opened</h4><pre><code>alter database open;
</code></pre>
<p>打开挂载的数据库使其可用于正常的数据库操作。任何有效的用户都可以连接到开放的数据库并访问其信息。通常，数据库管理员打开数据库以使其可供一般使用。</p>
<p>当您打开数据库时，Oracle数据库会打开在线数据文件（datafiles）和重做日志文件（redo log files）。如果在数据库之前关闭时表空间处于离线状态，那么在重新打开数据库时，表空间及其对应的数据文件仍将处于离线状态。</p>
<p>当您试图打开数据库时，如果其中任何一个数据文件或重做日志文件不存在，那么Oracle数据库将报错。在打开数据库之前，必须对任何损坏或丢失的文件的备份执行恢复。</p>
<h3 id="START-命令"><a href="#START-命令" class="headerlink" title="START 命令"></a>START 命令</h3><p>启动实例并打开数据库<br>    STARTUP</p>
<pre><code>STARTUP PFILE=$ORACLE_HOME/dbs/initdb01.ora

STARTUP [FORCE] [RESTRICT] [NOMOUNT] [MIGRATE] [QUIET] [PFILE=&lt;file_name&gt;] [MOUNT [EXCLUSIVE] &lt;database_name&gt;x | OPEN &lt;READ &#123;ONLY | WRITE [RECOVER]&#125; | RECOVER&gt; &lt;database_name&gt;]
</code></pre>
<blockquote>
<p>Oracle 数据库中 STARTUP 命令的各个选项进行解释：</p>
<ul>
<li><p>STARTUP：启动数据库实例，默认情况下会尝试进行自动恢复和打开数据库。</p>
</li>
<li><p>FORCE（可选）：强制启动数据库实例，忽略任何潜在的冲突或锁定。请谨慎使用该选项。</p>
</li>
<li><p>RESTRICT（可选）：以受限模式启动数据库实例，只有具有 RESTRICTED SESSION 特权的用户可连接。这可以限制普通用户的访问权限，通常用于执行数据库维护任务。</p>
</li>
<li><p>NOMOUNT（可选）：在不加载数据库实例的情况下启动实例。使用 NOMOUNT 选项，数据库实例只加载 SGA，并不打开或挂载数据库。</p>
</li>
<li><p>MIGRATE（可选）：启动一个旧版本数据库实例，并自动将其升级到当前版本。该选项通常在升级数据库时使用。</p>
</li>
<li><p>QUIET（可选）：以安静模式启动数据库实例，只输出最重要的消息。</p>
</li>
<li><p>PFILE&#x3D;<file_name>（可选）：指定使用指定的 pfile 参数文件来启动数据库实例。</p>
</li>
<li><p>MOUNT（可选）：将数据库实例挂载到内存中，但不打开数据库。实例处于 “mounted” 状态，可以执行与数据文件和控制文件相关的操作。</p>
</li>
<li><p>EXCLUSIVE（可选）：要求以独占模式挂载数据库实例。只有一个实例能够以独占模式挂载数据库。</p>
</li>
<li><p><database_name>：要启动的数据库名称。</p>
</li>
<li><p>OPEN &lt;READ {ONLY | WRITE [RECOVER]}&gt;：打开数据库实例并指定访问权限。READ ONLY 以只读模式打开数据库，WRITE 以读写模式打开数据库，RECOVER 允许进行数据库恢复操作。</p>
</li>
</ul>
</blockquote>
<h4 id="ALTER-DATABASE-命令"><a href="#ALTER-DATABASE-命令" class="headerlink" title="ALTER DATABASE 命令"></a>ALTER DATABASE 命令</h4><ul>
<li><p>将数据库的状态从NOMOUNT修改为MOUNT(不可逆):<br>ALTER DATABASE db01 MOUNT;</p>
</li>
<li><p>以只读数据库的方式打开数据库:<br>ALTER DATABASE db01 OPEN READ OMLY;</p>
</li>
</ul>
<h4 id="受限模式"><a href="#受限模式" class="headerlink" title="受限模式"></a>受限模式</h4><p>使用STARTUP命令限制对数据库的访问（DB未启动）:<br>    STARTUP RESTRUCT</p>
<p>使用ALTER SYSTEM命令将实例置于受限模式（DB启动后）:<br>    ALTER SYSTEM ENABLE RESTRICTED SESSION</p>
<h4 id="只读模式"><a href="#只读模式" class="headerlink" title="只读模式"></a>只读模式</h4><p>以只读的模式打开数据库<br>    STARTUP MOUNTALTER DATABASE OPEN READ ONLY;</p>
<blockquote>
<p>可用于:</p>
<p>执行查询</p>
<p>使用本地管理的表空间执行磁盘排序</p>
<p>将数据文件离线和在线，但不包括表空间</p>
<p>执行离线数据文件和表空间的恢复</p>
</blockquote>
<h2 id="数据库关闭"><a href="#数据库关闭" class="headerlink" title="数据库关闭"></a>数据库关闭</h2><ul>
<li>Close a Database</li>
</ul>
<p>关闭数据库时，Oracle将SGA中的所有数据库数据和恢复数据分别写入数据文件和重做日志文件中。接下来，Oracle数据库关闭所有在线数据文件和重做日志文件。(任何离线表空间的任何离线数据文件都已关闭。如果随后重新打开数据库，则脱机的表空间及其数据文件将分别保持脱机和关闭状态。)此时，数据库处于关闭状态，无法进行正常操作。关闭数据库后，控制文件保持打开状态，但仍然挂载。</p>
<ul>
<li>Unmount a Database</li>
</ul>
<p>关闭数据库后，Oracle数据库卸载数据库以解除与实例的关联。此时，实例保留在计算机的内存中。</p>
<p>卸载数据库后，Oracle数据库将关闭该数据库的控制文件。</p>
<ul>
<li>Shut Down an Instance</li>
</ul>
<p>数据库关闭的最后一步是关闭实例。当您关闭一个实例时，SGA将从内存中删除，后台进程将终止。</p>
<h3 id="Shutdown-mode："><a href="#Shutdown-mode：" class="headerlink" title="Shutdown mode："></a>Shutdown mode：</h3><ul>
<li>A&#x3D;ABORT：立即中止数据库的运行，当前正在进行的事务将被回滚，没有事务提交的机会。在数据库被中止之后，需要进行恢复操作才能重新打开数据库。</li>
<li>I&#x3D;IMMEDIATE：立即中止数据库的运行，当前正在进行的事务将被回滚，没有事务提交的机会。在数据库被中止之后，需要进行恢复操作才能重新打开数据库。</li>
<li>T&#x3D;TRANSACTIONAL：等待所有事务提交后关闭数据库。这种模式会等待当前正在执行的事务提交后，再关闭数据库。对于具有长时间运行事务的数据库，可能需要花费较长时间。</li>
<li>N&#x3D;NORMAL：类似于 TRANSACTIONAL 模式，等待所有事务提交后关闭数据库。不同之处在于，如果在一段时间内没有事务活动，则自动触发关闭操作。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/3a2bbf1030c84408a929277852545b24.png"></p>
<blockquote>
<p>干净的关闭：</p>
<p>SHUTDOWN NORMAL</p>
<p>or</p>
<p>SHUTDOWN TRANSACTIONAL</p>
<p>or</p>
<p>SHUTDOWN IMMEDIATE(常用)</p>
</blockquote>
<blockquote>
<p>不干净的关闭：</p>
<p>SHUTDOWN ABORT(迫不得已)</p>
<p>or</p>
<p>Instance Failure</p>
<p>or</p>
<p>STARTUP FORCE</p>
</blockquote>
<h2 id="诊断文件（日志文件）"><a href="#诊断文件（日志文件）" class="headerlink" title="诊断文件（日志文件）"></a>诊断文件（日志文件）</h2><h3 id="作用："><a href="#作用：" class="headerlink" title="作用："></a>作用：</h3><p>包含遇到的重要事件信息</p>
<p>用来解决问题</p>
<p>用于更好地管理数据库的日常基础</p>
<h3 id="有几种类型"><a href="#有几种类型" class="headerlink" title="有几种类型:"></a>有几种类型:</h3><h4 id="Alert-Log-File（日志警告文件）"><a href="#Alert-Log-File（日志警告文件）" class="headerlink" title="Alert Log File（日志警告文件）"></a>Alert Log File（日志警告文件）</h4><ul>
<li>alertSID.log文件:</li>
</ul>
<blockquote>
<p>记录命令</p>
<p>记录重要事件的结果</p>
<p>用于日常操作信息</p>
<p>用于诊断数据库错误</p>
</blockquote>
<ul>
<li>每个条目都有一个与之关联的时间戳</li>
<li>必须由DBA管理</li>
<li>由BACKGROUND_DUMP_DEST定义的位置</li>
</ul>
<h4 id="Background-Trace-Files（后台跟踪文件）"><a href="#Background-Trace-Files（后台跟踪文件）" class="headerlink" title="Background Trace Files（后台跟踪文件）"></a>Background Trace Files（后台跟踪文件）</h4><ul>
<li>后台跟踪文件</li>
</ul>
<blockquote>
<p>记录任何后台进程检测到的错误</p>
<p>用于诊断和排除错误</p>
</blockquote>
<ul>
<li>当后台进程遇到错误时创建</li>
<li>由BACKGROUND_DUMP_DEST定义的位置</li>
</ul>
<h4 id="User-Trace-Files（用户跟踪文件）"><a href="#User-Trace-Files（用户跟踪文件）" class="headerlink" title="User Trace Files（用户跟踪文件）"></a>User Trace Files（用户跟踪文件）</h4><ul>
<li>用户跟踪文件</li>
</ul>
<blockquote>
<p>由用户进程生成</p>
<p>可以由服务器进程生成吗</p>
<p>包含跟踪SQL语句的统计信息</p>
<p>包含用户错误消息</p>
</blockquote>
<ul>
<li>当用户遇到用户会话错误时创建</li>
<li>位置由USER_DUMP_DEST定义</li>
<li>由MAX_DUMP_FILE_SIZE定义的大小</li>
</ul>
<h5 id="启用-禁用-User-Tracing"><a href="#启用-禁用-User-Tracing" class="headerlink" title="启用&#x2F;禁用 User Tracing"></a>启用&#x2F;禁用 User Tracing</h5><h6 id="会话层"><a href="#会话层" class="headerlink" title="会话层:"></a>会话层:</h6><p>使用ALTER SESSION命令（建议）:<br>    ALTER SESSION SET SQL_TRACE &#x3D; TRUE</p>
<p>执行DBMS程序:<br>    dbms_system.SET_SQL_TRACE_IN_SESSION</p>
<h6 id="实例级"><a href="#实例级" class="headerlink" title="实例级"></a>实例级</h6><p>设置初始化参数（不建议）:<br>    SQL_TRACE &#x3D; TRUE</p>
<h3 id="命名规则"><a href="#命名规则" class="headerlink" title="命名规则"></a>命名规则</h3><p>Background trace files————-&gt;SID_processname_PID.trc</p>
<p>User trace files———————–&gt;SID_ora_PID.trc</p>
<h2 id="创建一个数据库"><a href="#创建一个数据库" class="headerlink" title="创建一个数据库"></a>创建一个数据库</h2><p>列出<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93&spm=1001.2101.3001.7020">创建数据库</a>所需的先决条件。</p>
<p>使用Oracle <a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=database&spm=1001.2101.3001.7020">database</a> Configuration Assistant创建数据库</p>
<p>手动创建数据库</p>
<p>使用Oracle Managed Files创建数据库</p>
<h3 id="规划和组织数据库"><a href="#规划和组织数据库" class="headerlink" title="规划和组织数据库"></a>规划和组织数据库</h3><p>1.规划数据库是管理数据库系统的第一步。</p>
<ul>
<li>定义数据库的用途。</li>
<li>定义数据库的类型。</li>
<li>概述数据库体系结构设计。</li>
<li>选择数据库名称。</li>
</ul>
<p>2.创建数据库。</p>
<p>3.使用Oracle数据迁移助手从较早版本的数据库迁移。</p>
<h3 id="OFA规范（Optimal-Flexible-Arch）"><a href="#OFA规范（Optimal-Flexible-Arch）" class="headerlink" title="OFA规范（Optimal Flexible Arch）"></a>OFA规范（Optimal Flexible Arch）</h3><p>Oracle推荐的标准数据库架构布局</p>
<p>OFA包括三个主要规则:</p>
<p>建立一个目录结构，其中任何数据库文件都可以存储在任何磁盘资源上。</p>
<p>将具有不同行为的对象分离到不同的表空间中。</p>
<p>通过跨不同磁盘资源分离数据库组件来最大化数据库可靠性和性能。</p>
<h3 id="软件和文件位置"><a href="#软件和文件位置" class="headerlink" title="软件和文件位置"></a>软件和文件位置</h3><p>Software</p>
<blockquote>
<p>oracle_base</p>
<p>        &#x2F;product</p>
<p>                &#x2F;release_number</p>
<p>                        &#x2F;bin</p>
<p>                        &#x2F;dbs</p>
<p>                        &#x2F;rdbms</p>
<p>                        &#x2F;sqlplus</p>
<p>&#x2F;admin</p>
<p>        &#x2F;inst_name</p>
<p>&#x2F;pfile</p>
</blockquote>
<p>Files</p>
<blockquote>
<p>oradata&#x2F;</p>
<p>        db01&#x2F;</p>
<p>                system01.dbf</p>
<p>                control01.ctl</p>
<p>                redo0101.log</p>
<p>                ……</p>
<p>        db02&#x2F;</p>
<p>                system01.dbf</p>
<p>                control01.ctl</p>
<p>                redo0101.log</p>
<p>                ……</p>
</blockquote>
<h3 id="创造先决条件"><a href="#创造先决条件" class="headerlink" title="创造先决条件"></a>创造先决条件</h3><p>要创建一个新数据库，必须具备以下条件</p>
<p>1.通过以下认证的特权帐户:</p>
<blockquote>
<p>操作系统</p>
<p>密码文件</p>
</blockquote>
<p>2.启动实例所需的足够内存</p>
<p>3.为规划的数据库提供足够的磁盘空间</p>
<p>身份验证方式</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/4e6047bc1c2a4c9eacbf853960b21513.png"></p>
<p>密码文件认证</p>
<p>使用password utility创建password file。<br>    $ orapwd file&#x3D;$ORACLE_HOME&#x2F;dbs&#x2F;orapwU15 password&#x3D;admin entries&#x3D;5</p>
<p>设置REMOTE LOGIN PASSWORDFILE&#x3D;EXCLUSIVE in</p>
<p>初始化参数文件。</p>
<p>在密码文件中添加用户。</p>
<p>为每个用户分配适当的权限。<br>    GRANT SYSDBA TO HR;</p>
<h3 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h3><p><a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=Oracle%E6%95%B0%E6%8D%AE%E5%BA%93&spm=1001.2101.3001.7020">Oracle数据库</a>可以通过以下方式创建:</p>
<ul>
<li>Oracle Universal Installer</li>
<li>Oracle Database Configuration Assistant（DBCA）</li>
</ul>
<blockquote>
<p>图形用户界面</p>
<p>基于java的</p>
<p>由Oracle通用安装程序启动</p>
<p>可以作为独立应用程序使用 </p>
</blockquote>
<ul>
<li>CREATE DATABASE命令</li>
</ul>
<h4 id="DBCA创建数据库"><a href="#DBCA创建数据库" class="headerlink" title="DBCA创建数据库"></a>DBCA创建数据库</h4><h5 id="过程："><a href="#过程：" class="headerlink" title="过程："></a>过程：</h5><ol>
<li><p>打开终端或命令提示符，并使用 <code>dbca</code> 命令启动 DBCA。</p>
</li>
<li><p>在 DBCA 的界面中，选择 “创建数据库” 选项并点击 “下一步”。</p>
</li>
<li><p>选择 “自定义数据库创建” 选项，并点击 “下一步”。</p>
</li>
<li><p>在 “数据库标识” 页面上，输入数据库的全局数据库名称和 SID (System Identifier)。选择合适的字符集和语种，并点击 “下一步”。</p>
</li>
<li><p>在 “系统类” 页面上，选择适合你的数据库类型和版本，并点击 “下一步”。</p>
</li>
<li><p>在 “数据库存储” 页面上，选择数据库的存储类型（例如文件系统或 ASM），并填写相关的存储选项。点击 “下一步”。</p>
</li>
<li><p>在 “管理选项” 页面上，选择是否启用自动管理，以及是否配置备份和恢复选项。点击 “下一步”。</p>
</li>
<li><p>在 “数据库信息” 页面上，输入管理员用户 (例如SYS) 的密码，并选择是否配置其他数据库的创建选项。点击 “下一步”。</p>
</li>
<li><p>在 “网络配置” 页面上，选择监听器的配置选项，并输入监听器的端口号。点击 “下一步”。</p>
</li>
<li><p>在 “创建选项” 页面上，确认你的数据库创建选项，并点击 “完成”。</p>
</li>
<li><p>DBCA 将开始创建数据库，并在完成后显示 “数据库创建完成” 的消息。</p>
</li>
</ol>
<h5 id="操作系统环境："><a href="#操作系统环境：" class="headerlink" title="操作系统环境："></a>操作系统环境：</h5><ul>
<li>ORACLE_BASE</li>
<li>ORACLE_HOME</li>
<li>ORACLE_SID</li>
<li>ORA_NLS33</li>
<li>PATH</li>
<li>LD_LIBRARY_PATH</li>
</ul>
<h5 id="使用DBCA可以"><a href="#使用DBCA可以" class="headerlink" title="使用DBCA可以:"></a>使用DBCA可以:</h5><ul>
<li>创建数据库</li>
<li>配置数据库选项</li>
<li>删除数据库</li>
<li>管理模板</li>
</ul>
<blockquote>
<p>使用预定义的模板设置创建新模板</p>
<p>从现有数据库创建新模板删除数据库模板</p>
</blockquote>
<h4 id="手动创建DB"><a href="#手动创建DB" class="headerlink" title="手动创建DB"></a><strong>手动创建DB</strong></h4><ul>
<li>选择唯一的实例和数据库名称</li>
<li>选择数据库字符集</li>
<li>设置操作系统变量</li>
<li>创建初始化参数文件</li>
<li>在NOMOUNT阶段启动实例并执行</li>
<li>Create DATABASE命令</li>
<li>运行脚本生成数据字典并完成创建后的步骤</li>
<li>根据需要创建额外的表空间</li>
</ul>
<h5 id="步骤1-指定实例标识符-SID"><a href="#步骤1-指定实例标识符-SID" class="headerlink" title="步骤1:指定实例标识符(SID)"></a>步骤1:指定实例标识符(SID)</h5><p>为您的实例确定一个唯一的Oracle系统标识符(SID)，打开命令窗口，设置ORACLE_SID环境变量。使用此命令窗口执行后续步骤。</p>
<p>ORACLE_SID用于将此实例与其他可能在同一主机上并发运行的Oracle数据库实例区分开来。ORACLE_SID的最大字符数为12，只允许输入字母和数字。在某些平台上，SID是区分大小写的。</p>
<blockquote>
<p>注意:通常的做法是将SID设置为等于数据库名称。数据库名称的最大字符数为8个。要了解更多信息，请参见Oracle数据库参考中关于DB_NAME初始化参数的讨论。</p>
</blockquote>
<h5 id="步骤2-确保设置了所需的环境变量"><a href="#步骤2-确保设置了所需的环境变量" class="headerlink" title="步骤2:确保设置了所需的环境变量"></a>步骤2:确保设置了所需的环境变量</h5><p>例如，大多数平台必须设置“ORACLE_SID”和“ORACLE_HOME”。另外，建议将PATH变量设置为包含ORACLE_HOME&#x2F;bin目录。在UNIX和Linux平台上，必须手动设置这些环境变量。在Windows平台上，OUI会自动在Windows注册表中为ORACLE_HOME和ORACLE_SID赋值。如果您没有在安装时创建数据库，那么OUI不会在注册表中设置ORACLE_SID，并且您必须在以后创建数据库时设置ORACLE_SID环境变量。</p>
<h6 id="环境变量："><a href="#环境变量：" class="headerlink" title="环境变量："></a>环境变量：</h6><ul>
<li>ORACLE_BASE</li>
<li>ORACLE_HOME</li>
<li>ORACLE_SID</li>
<li>ORA_NLS33</li>
<li>PATH</li>
<li>LD_LIBRARY_PATH</li>
</ul>
<h5 id="步骤3-选择数据库管理员身份验证方法"><a href="#步骤3-选择数据库管理员身份验证方法" class="headerlink" title="步骤3:选择数据库管理员身份验证方法"></a>步骤3:选择数据库管理员身份验证方法</h5><p>您必须通过身份验证并被授予适当的系统特权才能创建数据库。您可以通过以下方式验证管理员的权限:</p>
<ul>
<li>使用密码文件</li>
<li>具有操作系统身份验证</li>
</ul>
<p>在此步骤中，您将决定一种身份验证方法。</p>
<blockquote>
<p>如果您选择使用密码文件进行认证，请参考“创建并维护密码文件”创建密码文件。如果您决定使用操作系统身份验证进行身份验证，请确保使用属于相应操作系统用户组的用户帐户登录到主机。例如，在UNIX和Linux平台上，这通常是dba用户组。在Windows操作系统下，安装Oracle软件的用户会被自动归入相应的用户组。</p>
</blockquote>
<h5 id="步骤4-创建初始化参数文件（pfile）"><a href="#步骤4-创建初始化参数文件（pfile）" class="headerlink" title="步骤4:创建初始化参数文件（pfile）"></a>步骤4:创建初始化参数文件（pfile）</h5><p>当Oracle实例启动时，它会读取一个初始化参数文件。该文件可以是一个文本文件(可以使用文本编辑器创建和修改)，也可以是一个二进制文件(由数据库创建和动态修改)。首选的二进制文件称为服务器参数文件（spfile）。在这一步中，您将创建一个文本初始化参数文件。在后面的步骤中，将从文本文件创建服务器参数文件。</p>
<p>为方便起见，请使用默认文件名将初始化参数文件存储在Oracle数据库的默认位置。这样，在启动数据库时，就不需要指定STARTUP命令的PFILE子句，因为Oracle数据库会自动在默认位置查找初始化参数文件。</p>
<h5 id="步骤5-连接到实例"><a href="#步骤5-连接到实例" class="headerlink" title="步骤5:连接到实例"></a>步骤5:连接到实例</h5><p>启动SQL*Plus并以SYSDBA系统权限连接到Oracle数据库实例。</p>
<p>使用密码文件进行认证，输入以下命令，并在提示时输入SYS密码:<br>    $ sqlplus &#x2F;nologSQL&gt; CONNECT SYS AS SYSDBA</p>
<p>使用操作系统身份验证，输入如下命令:<br>    $ sqlplus &#x2F;nologSQL&gt; CONNECT &#x2F; AS SYSDBA</p>
<p>SQL*Plus输出以下消息:<br>    Connected to an idle instance</p>
<h5 id="步骤6-创建SPFILE（可选）"><a href="#步骤6-创建SPFILE（可选）" class="headerlink" title="步骤6:创建SPFILE（可选）"></a>步骤6:创建SPFILE（可选）</h5><p>服务器参数文件使您能够使用ALTER SYSTEM命令更改初始化参数，并在数据库关闭和启动期间持久化更改。从编辑过的文本初始化文件创建服务器参数文件。</p>
<p>下面的SQL*Plus命令从默认位置读取具有默认名称的文本初始化参数文件(PFILE)，从文本初始化参数文件创建服务器参数文件(SPFILE)，并将SPFILE写入具有默认SPFILE名称的默认位置。<br>    CREATE SPFILE FROM PFILE;</p>
<p>如果不使用默认名称和位置，还可以为PFILE和SPFILE提供文件名和路径。</p>
<blockquote>
<p>提示:服务器参数文件生效前，必须重启数据库。</p>
</blockquote>
<blockquote>
<p>注意:虽然此时创建服务器参数文件是可选的，但建议这样做。如果不创建服务器参数文件，则实例在启动时继续读取文本初始化参数文件。</p>
<p>重要提示:如果你使用的是oracle管理的文件，并且你的初始化参数文件不包含CONTROL_FILES参数，你必须创建一个服务器参数文件，这样数据库就可以保存它在create database语句中创建的控制文件的名称和位置。</p>
</blockquote>
<h5 id="步骤7-启动实例"><a href="#步骤7-启动实例" class="headerlink" title="步骤7:启动实例"></a>步骤7:启动实例</h5><p>在不挂载数据库的情况下启动实例。通常，您只能在创建数据库期间或在对数据库执行维护时执行此操作。使用带有NOMOUNT子句的sTARTUP命令。在本例中，由于初始化参数文件或服务器参数文件存储在默认位置，因此不需要指定PFILE子句:<br>    STARTUP NOMOUNT</p>
<p>此时，分配实例内存并启动其进程。数据库本身还不存在。</p>
<h5 id="步骤8-使用CREATE-DATABASE语句"><a href="#步骤8-使用CREATE-DATABASE语句" class="headerlink" title="步骤8:使用CREATE DATABASE语句"></a>步骤8:使用CREATE DATABASE语句</h5><h5 id="步骤9-创建额外的表空间"><a href="#步骤9-创建额外的表空间" class="headerlink" title="步骤9:创建额外的表空间"></a>步骤9:创建额外的表空间</h5><p>要使数据库正常工作，需要为应用程序数据创建额外的表空间。下面的示例脚本创建了一些额外的表空间:<br>    CREATE TABLESPACE indx_dbs LOGGING    DATAFILE ‘&#x2F;u01&#x2F;app&#x2F;oracle&#x2F;oradata&#x2F;mynewdb&#x2F;apps01.dbf’    SIZE 500M REUSE AUTOEXTEND ON NEXT 1280K MAXSIZE UNLIMITED    EXTENT MANAGEMENT LOCAL;</p>
<p>为索引创建一个表空间，独立于用户表空间(可选)<br>    CREATE TABLESPACE indx_tbs LOGGIN    DATAFILE ‘&#x2F;u01&#x2F;app&#x2F;oracle&#x2F;oradata&#x2F;mynewdb&#x2F;indx01.dbf’    SIZE 100M REUSE AUTOEXTEND ON NEXT 1280K MAXSIZE UNLIMITED    EXTENT MANAGEMENT LOCAL;</p>
<p>程度管理本地;</p>
<h5 id="步骤10-运行脚本来构建数据字典视图"><a href="#步骤10-运行脚本来构建数据字典视图" class="headerlink" title="步骤10:运行脚本来构建数据字典视图"></a>步骤10:运行脚本来构建数据字典视图</h5><p>运行构建数据字典视图、同义词和PL&#x2F;SQL包所需的脚本，并支持SQL*Plus的正常功能:</p>
<p>@?&#x2F;rdbms&#x2F;admin&#x2F;catalog.sql</p>
<p>@?&#x2F;rdbms&#x2F;admin&#x2F;catproc.sql</p>
<p>@?&#x2F;sqlplus&#x2F;admin&#x2F;pupbld.sql</p>
<p>EXIT</p>
<p>@符号是运行SQL<em>Plus脚本的命令的简写。问号(?)是SQL</em>Plus变量，表示Oracle的主目录。下表包含脚本的描述:</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/82d35745e64945248ffa0c842ca01375.png"></p>
<p>步骤12:运行脚本安装附加选项(可选)</p>
<p>您可能需要运行其他脚本。运行的脚本由您选择使用或安装的功能和选项决定。Oracle数据库参考中描述了许多可用的脚本。</p>
<p>如果您计划安装其他Oracle产品来使用该数据库，请参阅这些产品的安装说明。有些产品要求您创建额外的数据字典表。通常，提供命令文件来创建这些表并将其加载到数据库数据字典中。</p>
<p>有关计划安装的特定产品的安装和管理说明，请参阅Oracle文档。</p>
<h4 id="使用OMF创建数据库"><a href="#使用OMF创建数据库" class="headerlink" title="使用OMF创建数据库"></a>使用OMF创建数据库</h4><p>使用OMF简化了操作系统上的文件管理。</p>
<p>OMF是由Oracle服务器根据SQL命令创建和删除的。</p>
<p>OMF通过设置两个参数来建立:</p>
<ul>
<li>DB_CREATE_FILE_DEST:设置为数据文件的默认位置</li>
<li>DB_CREATE_ONLINE_LOG_DEST_n:设置为在线重做日志文件和控制文件的默认位置</li>
</ul>
<p>最多五个位置。</p>
<p>在初始化参数文件中定义OMF参数。例子:</p>
<ul>
<li>DB_CREATE_FILE_DEST&#x3D;&#x2F;$HOME&#x2F;ORADATA&#x2F;u05</li>
<li>DB_CREATE_ONLINE_LOG_DEST_1&#x3D;&#x2F;$HOME&#x2F;ORADATA&#x2F;u01</li>
<li>DB_CREATE_ONLINE_LOG_DEST_2&#x3D;&#x2F;$HOME&#x2F;ORADATA&#x2F;u02</li>
</ul>
<p>CREATEDATABASE 命令简化：  </p>
<pre><code>@cddba01.sql &gt; CREATE DATABASE dba01;
</code></pre>
<h3 id="故障排除"><a href="#故障排除" class="headerlink" title="故障排除"></a>故障排除</h3><p>如果出现以下情况，创建数据库失败:</p>
<ul>
<li>SQL脚本中有语法错误</li>
<li>应该创建的文件已经存在</li>
<li>操作系统错误，如文件或目录权限错误或空间不足错误</li>
</ul>
<h3 id="数据库创建后"><a href="#数据库创建后" class="headerlink" title="数据库创建后"></a>数据库创建后</h3><p>数据库包含:</p>
<ul>
<li>Data files, control files, and online redo log files</li>
<li>用户SYS，密码change_on_install</li>
<li>用户SYSTEM，密码manager</li>
<li>内部表(没有数据字典视图)</li>
</ul>
<h2 id="内置数据库对象"><a href="#内置数据库对象" class="headerlink" title="内置数据库对象"></a>内置数据库对象</h2><p>使用<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%9B%E5%BB%BA&spm=1001.2101.3001.7020">数据库创建</a>的其他对象:</p>
<p><a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8&spm=1001.2101.3001.7020">数据字典</a></p>
<p>性能表</p>
<p>PL&#x2F;<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=SQL&spm=1001.2101.3001.7020">SQL</a>包</p>
<p>数据库事件触发器</p>
<h2 id="数据字典（Data-Dictionary）"><a href="#数据字典（Data-Dictionary）" class="headerlink" title="数据字典（Data Dictionary）"></a>数据字典（Data Dictionary）</h2><ul>
<li>每个Oracle数据库的中心</li>
<li>描述数据库及其对象</li>
<li>包含只读表和视图</li>
<li>存储在SYSTEM表空间中</li>
<li>属于用户SYS</li>
<li>由Oracle服务器维护</li>
<li>通过SELECT访问</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/5edd5c5b323d47aa9c13f2a05307279f.png"></p>
<h3 id="Base-Tables-DD-Views"><a href="#Base-Tables-DD-Views" class="headerlink" title="Base Tables &amp; DD Views"></a>Base Tables &amp; DD Views</h3><p>数据字典包含两个部分:</p>
<p>Base Tables（基表）</p>
<ul>
<li>存储数据库的描述</li>
<li>使用CREATE DATABASE创建</li>
</ul>
<p>Data dictionary views（数据字典视图）</p>
<ul>
<li>用于简化基表信息</li>
<li>通过公共同义词访问</li>
<li>用catalog.sql脚本创建</li>
</ul>
<h3 id="创建DD-Views"><a href="#创建DD-Views" class="headerlink" title="创建DD Views"></a>创建DD Views</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/9af4a035a3b64234bf56a9a76030e408.png"></p>
<p>catalog.sql：创建常用的数据字典视图和同义词</p>
<p>catproc.sql：运行服务器端PL&#x2F;SQL所需的脚本</p>
<h3 id="数据字典内容"><a href="#数据字典内容" class="headerlink" title="数据字典内容"></a>数据字典内容</h3><p>数据字典提供以下信息:</p>
<ul>
<li>逻辑和物理数据库结构</li>
<li>对象的定义和空间分配</li>
<li>完整性约束</li>
<li>用户</li>
<li>角色</li>
<li>特权</li>
<li>审计</li>
</ul>
<h3 id="如何使用DD"><a href="#如何使用DD" class="headerlink" title="如何使用DD"></a>如何使用DD</h3><p>主要用途:</p>
<p>Oracle服务器使用它来查找有关的信息</p>
<ul>
<li>用户</li>
<li>模式对象</li>
<li>存储结构</li>
</ul>
<p>Oracle服务器在执行DDL语句时修改它。</p>
<p>用户和DBA以只读的方式查询引用数据库信息。</p>
<h3 id="DD视图类别"><a href="#DD视图类别" class="headerlink" title="DD视图类别"></a>DD视图类别</h3><p>三组静态视图</p>
<p>以其范围著称的:</p>
<ul>
<li>DBA:所有模式中的内容</li>
<li>ALL:用户可以访问的内容</li>
<li>USER:用户模式中的内容</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/f595d2649af2468a9b93b4b8d147a1e0.png"></p>
<p>DD例子</p>
<p>总体概述：DICTIONARY，DICT_COLUMNS</p>
<p>模式对象：DBA_TABLES，DBA_INDEXES，DBA_TAB_COLUMNS，DBA_CONSTRAINTS</p>
<p>空间分配：DBA_SEGMENTS，DBA_EXTENTS</p>
<p>数据库结构：DBA_TABLESPACES，DBA_DATA_FILES</p>
<h3 id="动态性能表（Dynamic-Performance-Tables）"><a href="#动态性能表（Dynamic-Performance-Tables）" class="headerlink" title="动态性能表（Dynamic Performance Tables）"></a>动态性能表（Dynamic Performance Tables）</h3><ul>
<li>虚拟表</li>
<li>记录当前数据库活动</li>
<li>在数据库运行时不断更新</li>
<li>从内存和控制文件访问信息</li>
<li>用于监视和调优数据库</li>
<li>归属SYS用户</li>
<li>以V$开始的Synonyms</li>
<li>列在V$FIXED表中</li>
</ul>
<p>常见DP</p>
<ul>
<li>V$CONTROLFILE：提供了有关数据库控制文件的信息，包括控制文件的名称和位置。</li>
<li>V$DATABASE：提供了数据库的一般信息，例如数据库名称、状态以及创建时间。</li>
<li>V$DATAFILE：提供了数据库的一般信息，例如数据库名称、状态以及创建时间。</li>
<li>V$INSTANCE：提供了关于数据库实例的信息，例如实例名称、启动时间、数据库状态等。</li>
<li>V$PARAMETER：提供了数据库中的参数设置信息，包括参数名称、当前值、默认值等。</li>
<li>V$SESSION：提供了数据库会话的信息，包括会话ID、用户名、客户端IP地址、会话状态等。</li>
<li>V$SGA：提供了SGA（共享内存区）的信息，包括SGA大小、SGA命中率、缓冲池命中率等。</li>
<li>$SPPARAMETER：提供了SP文件（服务器参数文件）中的参数设置信息。</li>
<li>V$TABLESPACE：提供了表空间的信息，包括表空间名称、表空间大小、表空间使用情况等。</li>
<li>V$THREAD：提供了数据库中的线程信息，包括线程ID、线程名称等。</li>
<li>V$VERSION：提供了数据库软件版本信息，包括Oracle版本号、主版本号、次版本号等。</li>
</ul>
<h3 id="Admin脚本命名"><a href="#Admin脚本命名" class="headerlink" title="Admin脚本命名"></a>Admin脚本命名</h3><p>Convention：描述</p>
<p>cat*.sql：目录和数据字典信息</p>
<p>dbms*.sql：数据库包规格</p>
<p>prvt*.plb：封装的数据库包代码</p>
<p>utl*.sql：用于数据库实用程序的视图和表</p>
<h2 id="控制文件"><a href="#控制文件" class="headerlink" title="控制文件"></a>控制文件</h2><ul>
<li>一个小的二进制文件</li>
<li>定义物理数据库的当前状态</li>
<li>维护数据库的完整性</li>
<li>要求：1.在数据库启动期间处于MOUNT状态 ； 2.操作数据库。</li>
<li>链接到单个数据库</li>
<li>丢失可能需要恢复</li>
<li>初始大小由CREATE DATABASE决定</li>
</ul>
<h3 id="控制文件的大小"><a href="#控制文件的大小" class="headerlink" title="控制文件的大小"></a>控制文件的大小</h3><p>控件设置的值是控制文件大小的主要决定因素MAXDATAFILES, MAXLOGFILES, MAXLOGMEMBERS, MAXLOGHISTORY，和创建关联数据库的CRÉATEDATABASE语句中的MAXINSTANCES参数。增加这些参数的值会增加关联数据库的控制文件的大小。</p>
<h3 id="控制文件内容"><a href="#控制文件内容" class="headerlink" title="控制文件内容"></a>控制文件内容</h3><p>控制文件包含以下条目:</p>
<ul>
<li>数据库名称和标识符</li>
<li>数据库创建的时间戳</li>
<li>表空间名称</li>
<li>数据文件和在线重做日志文件的名称和位置</li>
<li>当前在线重做日志文件序号</li>
<li>检查点的信息</li>
<li>撤销段的开始和结束</li>
<li>重做日志存档信息</li>
<li>备份信息</li>
</ul>
<h3 id="多路复用控制文件"><a href="#多路复用控制文件" class="headerlink" title="多路复用控制文件"></a>多路复用控制文件</h3><p>每个<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=Oracle%E6%95%B0%E6%8D%AE%E5%BA%93&spm=1001.2101.3001.7020">Oracle数据库</a>应该至少有两个控制文件，分别存储在不同的物理磁盘上。如果控制文件由于磁盘故障而损坏，则必须关闭关联的实例。一旦修复了磁盘驱动器，就可以使用从另一个磁盘上完整拷贝的控制文件来恢复损坏的控制文件，并且可以重新启动实例。在这种情况下，不需要进行介质恢复。</p>
<h4 id="多路控制文件的行为是这样的"><a href="#多路控制文件的行为是这样的" class="headerlink" title="多路控制文件的行为是这样的:"></a>多路控制文件的行为是这样的:</h4><ul>
<li>数据库写入数据库初始化参数文件中为初始化参数CONTROL_FILES列出的所有文件名。</li>
<li>在数据库操作期间，数据库只读取CONTROL_FILES参数中列出的第一个文件。</li>
<li>如果任何控制文件在数据库操作期间变得不可用，则实例变得不可操作并应中止。</li>
</ul>
<blockquote>
<p>注意:<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=Oracle&spm=1001.2101.3001.7020">Oracle</a>强烈建议您的数据库具有至少有两个控制文件，并且它们位于不同的物理磁盘上。</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/1af90ebfc4594c07a5c37291b3181a16.png"></p>
<h4 id="当使用SPFILE时"><a href="#当使用SPFILE时" class="headerlink" title="当使用SPFILE时"></a>当使用SPFILE时</h4><ol>
<li><p>修改SPFILE:<br>ALTER SYSTEM SET control_files &#x3D; ‘$HOME&#x2F;ORADATA&#x2F;u01&#x2F;ctrl01.ctl’,’$HOME&#x2F;ORADATA&#x2F;u02&#x2F;ctr102.ctl’SCOPE&#x3D;SPFILE;</p>
</li>
<li><p>关闭数据库:<br>shutdown immediate</p>
</li>
</ol>
<p>3.创建额外的控制文件:<br>    cp  $HOME&#x2F;ORADATA&#x2F;u01&#x2F;ctrl01.ctl    $HOME&#x2F;ORADATA&#x2F;u02&#x2F;ctrl02.ctl</p>
<ol start="4">
<li>启动数据库:<br>startup</li>
</ol>
<h4 id="当使用PFILE时"><a href="#当使用PFILE时" class="headerlink" title="当使用PFILE时"></a>当使用PFILE时</h4><ol>
<li><p>关闭数据库:<br>shutdown immediate</p>
</li>
<li><p>创建额外的控制文件:<br>cp  $HOME&#x2F;ORADATA&#x2F;u01&#x2F;ctrl01.ctl    $HOME&#x2F;ORADATA&#x2F;u02&#x2F;ctrl02.ctl</p>
</li>
</ol>
<p>3.在PFILE中添加控制文件名:<br>    CONTROL_FILES &#x3D; $HOME&#x2F;ORADATA&#x2F;u01&#x2F;ctrl01.ctl,                $HOME&#x2F;ORADATA&#x2F;u02&#x2F;ctrl02.ctl)</p>
<ol start="4">
<li>启动数据库:<br>startup</li>
</ol>
<h4 id="使用OMF"><a href="#使用OMF" class="headerlink" title="使用OMF"></a>使用OMF</h4><p>如果没有指定CONTROL_FILES参数，则创建OMF。</p>
<p>位置被定义为DB_CREATE_ONLINE_LOG_DEST_n。</p>
<p>名称是唯一生成并显示在alertSID.log。</p>
<h4 id="获取控制文件信息"><a href="#获取控制文件信息" class="headerlink" title="获取控制文件信息"></a>获取控制文件信息</h4><p>有关控制文件状态和位置的信息可以通过查询以下视图来检索。</p>
<ul>
<li>V$CONTROLFILE:列出与实例关联的所有控制文件的名称和状态</li>
<li>V$PARAMETER:列出所有参数的状态和位置</li>
<li>V$CONTROLFILE_RECORD_SECTION:提供有关控制文件记录节的信息</li>
<li>SHOW PARAMETER CONTROL_FILES:列出控制文件的名称、状态和位置</li>
</ul>
<h2 id="维护在线重做日志文件（Online-Redo-log-file）"><a href="#维护在线重做日志文件（Online-Redo-log-file）" class="headerlink" title="维护在线重做日志文件（Online Redo log file）"></a>维护在线重做日志文件（Online Redo log file）</h2><h4 id="在线重做日志文件具有以下特点"><a href="#在线重做日志文件具有以下特点" class="headerlink" title="在线重做日志文件具有以下特点:"></a>在线重做日志文件具有以下特点:</h4><ul>
<li>记录对数据所做的所有更改</li>
<li>提供恢复机制</li>
<li>一定被组织为组</li>
<li>至少需要两组</li>
</ul>
<h4 id="重做文件结构"><a href="#重做文件结构" class="headerlink" title="重做文件结构"></a>重做文件结构</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/cfac5470ed614be4990aecb07a1a7fa9.png"></p>
<h4 id="在线重做日志文件组"><a href="#在线重做日志文件组" class="headerlink" title="在线重做日志文件组"></a>在线重做日志文件组</h4><ul>
<li>在线重做日志文件的一组相同副本称为在线重做日志文件组。</li>
<li>LGWR后台进程并发地向一个组中的所有在线重做日志文件中写入相同的信息。</li>
<li>Oracle服务器至少需要两个在线重做日志文件组才能保证一个数据库的正常运行。</li>
</ul>
<h4 id="在线重做日志文件成员"><a href="#在线重做日志文件成员" class="headerlink" title="在线重做日志文件成员"></a>在线重做日志文件成员</h4><ul>
<li>组中的每个在线重做日志文件称为一个成员。</li>
<li>组中的每个成员具有相同的日志序列号，大小相同。</li>
<li>LSN(日志序列号)是Oracle服务器每次写日志组时分配的，用来唯一标识每个在线重做日志文件。</li>
</ul>
<h4 id="多路重做日志文件"><a href="#多路重做日志文件" class="headerlink" title="多路重做日志文件"></a>多路重做日志文件</h4><p>为了防止涉及重做日志本身的故障，<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=Oracle%E6%95%B0%E6%8D%AE%E5%BA%93&spm=1001.2101.3001.7020">Oracle数据库</a>允许多路重做日志，这意味着可以在不同的位置自动维护两个或多个相同的重做日志副本。为了获得最大的好处，这些位置应该位于单独的磁盘上。然而，即使重做日志的所有副本都在同一个磁盘上，冗余也可以帮助防止I&#x2F;O错误、文件损坏等。当重做日志文件多路复用时，LGWR并发地将相同的重做日志信息写入多个相同的重做日志文件，从而消除了重做日志单点故障。</p>
<p>多路复用是通过创建多组重做日志文件实现的。一个组由一个重做日志文件和它的多路副本组成。每个相同的副本被称为组的一个成员。每个重做日志组都用一个数字来定义，比如组1、组2，等等。</p>
<blockquote>
<p>注意:Oracle建议您使用多重重做日志文件。如果需要恢复，日志文件数据的丢失可能是灾难性的。请注意，当您复用重做日志时，数据库必须增加它执行的I&#x2F;O量。根据您的配置，这可能会影响数据库的整体性能。</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/41ef4eb44cd246a0b380a94729e9e08f.png"></p>
<h4 id="重做文件如何工作"><a href="#重做文件如何工作" class="headerlink" title="重做文件如何工作"></a>重做文件如何工作</h4><p>在线重做日志文件以循环的方式使用。</p>
<p>当一个在线重做日志文件已满时，LGWR会移动到下一个日志组。</p>
<ul>
<li>称为日志切换</li>
<li>检查点操作也会发生</li>
<li>写入控制文件的信息</li>
</ul>
<p>从一个日志文件组切换到另一个日志文件组的行为称为日志切换。检查点是将脏的(修改的)块从缓冲区缓存写到磁盘。</p>
<h4 id="LGWR什么时候写重做"><a href="#LGWR什么时候写重做" class="headerlink" title="LGWR什么时候写重做?"></a>LGWR什么时候写重做?</h4><ul>
<li>事务提交的时候。</li>
<li>每三秒一次</li>
<li>当重做日志缓冲区满三分之一时。</li>
<li>当重做日志缓冲区中有超过1兆字节的更改记录时。</li>
<li>在DBWn将数据库缓存中修改过的块写入到database files</li>
</ul>
<h4 id="LS-LSN"><a href="#LS-LSN" class="headerlink" title="LS &amp; LSN"></a>LS &amp; LSN</h4><p>日志交换机和日志序列号</p>
<p>日志开关是数据库停止写入一个重做日志文件并开始写入另一个日志文件的点。通常，日志切换发生在当前重做日志文件被完全填满，必须继续写入下一个重做日志文件的时候。但是，您可以将日志切换配置为定期发生，而不管当前重做日志文件是否被完全填满。你也可以手动强制日志切换。</p>
<p>Oracle数据库在每次日志切换发生并且LGWR开始写入时，为每个重做日志文件分配一个新的日志序列号。当数据库归档重做日志文件时，归档的日志保留其日志序列号。重做日志文件被循环回用时，会被赋予下一个可用的日志序列号。</p>
<p>每个在线或存档的重做日志文件都由其日志序列号唯一标识。在崩溃、实例或介质恢复期间，数据库通过使用必要的归档和重做日志文件的日志序列号，以升序正确地应用重做日志文件。</p>
<h4 id="强制日志开关和CK"><a href="#强制日志开关和CK" class="headerlink" title="强制日志开关和CK"></a>强制日志开关和CK</h4><p>强制日志开关:<br>    ALTER SYSTEM SWITCH LOGFILE;</p>
<p>可以通过以下方式强制设置检查点:</p>
<p>设置FAST_START_MTTR_TARGET参数<br>    FAST_START_MTTR_TARGET &#x3D; 600</p>
<p>修改系统检查点命令<br>    ALTER SYSTEM CHECKPOINT;</p>
<h4 id="添加重做文件组"><a href="#添加重做文件组" class="headerlink" title="添加重做文件组"></a>添加重做文件组</h4><pre><code>ALTER DATABASE ADD LOGFILE GROUP 3(&#39;$HOME/ORADATA/u01/log3a.rdo&#39;, &#39;$HOME/ORADATA/u02/log3b.rdo&#39;)SIZE 1M;
</code></pre>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/950aebcb3d154185bfc79526a0c1a608.png"></p>
<h4 id="添加Redo文件成员"><a href="#添加Redo文件成员" class="headerlink" title="添加Redo文件成员"></a>添加Redo文件成员</h4><pre><code>ALTER DATABASE ADD LOGFILE MEMBER&#39;$HOME/ORADATA/u04/log1c.rdo&#39; TO GROUP 1, &#39;$HOME/ORADATA/u04/1og2c.rdo&#39; TO GROUP 2, &#39;$HOME/ORADATA/u04/1og3c.rdo&#39; TO GROUP 3;
</code></pre>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/f943de0c50a64e1ab14701f54a116d14.png"></p>
<h4 id="删除Redo文件成员"><a href="#删除Redo文件成员" class="headerlink" title="删除Redo文件成员"></a>删除Redo文件成员</h4><ul>
<li>允许删除重做日志文件，使多路重做日志暂时变得不对称。例如，如果你使用双工重做日志文件组，你可以删除一个组中的一个成员，即使所有其他组每个组都有两个成员。但是，您应该立即纠正这种情况，以便所有组至少有两个成员，从而消除重做日志可能出现的单点故障。</li>
<li>一个实例总是需要至少两组有效的重做日志文件，而不管组中的成员有多少。(一个组由一个或多个成员组成。)如果要删除的成员是组中最后一个有效的成员，则在其他成员生效之前不能删除该成员。要查看重做日志文件状态，请使用V$LOGFILE视图。如果数据库无法访问重做日志文件，则重做日志文件变为INVALID。如果数据库怀疑它不完整或不正确，则变为STALE。当一个陈旧的日志文件的组下一次被设置为活动组时，该日志文件将再次变为有效的。</li>
<li>只有当重做日志成员不属于活动组或当前组时，才能删除该成员。如果你想删除一个活动组的成员，首先强制进行日志切换。</li>
<li>在删除成员之前，请确保重做日志成员所属的组已存档(如果存档已启用)。要查看是否发生了这种情况，使用V$LOG view。</li>
</ul>
<p>当重做日志成员从数据库中删除时，操作系统文件不会从磁盘中删除。相反，更新关联数据库的控制文件以从数据库结构中删除该成员。在删除重做日志文件后，确保删除成功完成，然后使用适当的操作系统命令删除被删除的重做日志文件。</p>
<h4 id="删除重做文件组"><a href="#删除重做文件组" class="headerlink" title="删除重做文件组"></a>删除重做文件组</h4><ul>
<li><p>一个实例至少需要两组在线重做日志文件。</p>
</li>
<li><p>不能删除活动组或当前组。</p>
</li>
<li><p>删除在线重做日志文件组时，不会删除操作系统文件。<br>ALTER DATABASE DROP LOGFILE GROUP 3;</p>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/bb9843c178034b3bbbac5dbdc319c6d7.png"></p>
<p>搬迁和重命名</p>
<p>您可以使用操作系统命令重新定位重做日志，然后使用ALTER DATABASE语句使数据库知道它们的新名称(位置)。这个过程是必要的，例如，如果当前用于某些重做日志文件的磁盘将被删除，或者数据文件和多个重做日志文件存储在同一个磁盘上，并且应该分开以减少争用。</p>
<p>要重命名重做日志成员，您必须具有ALTER DATABASE系统权限。此外，您可能还需要操作系统权限来将文件复制到所需的位置和特权，以打开和备份数据库。</p>
<p>在重新定位重做日志或对数据库进行任何其他结构更改之前，请完全备份数据库，以防在执行操作时遇到问题。作为预防措施，在重命名或重定位一组重做日志后日志文件，立即备份数据库控制文件。</p>
<h4 id="搬迁和重命名"><a href="#搬迁和重命名" class="headerlink" title="搬迁和重命名"></a>搬迁和重命名</h4><p>通过以下两种方式之一重新定位或重命名在线重做日志文件:</p>
<p>ALTER DATABASE重命名文件命令</p>
<ul>
<li><p>关闭数据库。</p>
</li>
<li><p>将在线重做日志文件复制到新位置。</p>
</li>
<li><p>将数据库置于MOUNT模式。</p>
</li>
<li><p>执行命令。</p>
</li>
<li><p>打开数据库进行正常操作。<br>ALTER DATABASE RENAME FILE ‘$HOME&#x2F;ORADATA&#x2F;u01&#x2F;log2a.rdo’ TO ‘$HOME&#x2F;ORADATA&#x2F;u02&#x2F;log1.rdo’;</p>
</li>
</ul>
<p>添加新成员，删除旧成员。</p>
<h4 id="清除重做文件"><a href="#清除重做文件" class="headerlink" title="清除重做文件"></a>清除重做文件</h4><p>清除数据库日志文件命令用于重新初始化在线重做日志文件。<br>    ALTER DATABASE CLEAR LOGFILE GROUP 2;</p>
<p>使用UNARCHIVED关键字，避免归档损坏的在线重做日志文件。<br>    ALTER DATABASE CLEAR UNARCHIVEDLOGFILE GROUP 2;</p>
<p>重做文件配置</p>
<blockquote>
<p>小贴士:在<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E4%B8%8D%E5%90%8C%E7%9A%84&spm=1001.2101.3001.7020">不同的</a>磁盘上在设置多路重做日志时，将组的成员放在不同的物理磁盘上。如果单个磁盘发生故障，则组中只有一个成员对LGWR不可用，而LGWR仍然可以访问其他成员，因此实例可以继续运行。</p>
<p>如果归档重做日志，请将重做日志成员分散到磁盘上，以消除LGWR和ARCn后台进程之间的争用。例如，如果你有两组多工重做日志成员(双工重做日志)，将每个成员放在不同的磁盘上，并将存档目标设置为第五个磁盘。这样做可以避免LGWR(写入成员)和ARCn(读取成员)之间的争用。</p>
<p>数据文件也应该和重做日志文件放在不同的磁盘上，以减少写数据块和重做记录的争用。</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/61dbd5f7075f44349a8b5ffa54865e8b.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/1a088e8655ff497bac9d02155d6f5a65.png"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/5bfb9c3cd6c4426698d1d0d27e3424e6.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/6462de1517be4792b5a06eaa99fac30b.png"></p>
<h4 id="用OMF管理重做文件"><a href="#用OMF管理重做文件" class="headerlink" title="用OMF管理重做文件"></a>用OMF管理重做文件</h4><p>定义DB_CREATE_ONLINE_LOG_DEST_n参数：<br>    DB_CREATE_ONLINE_LOG_DEST_1DB_CREATE_ONLINE_LOG_DEST_2</p>
<p>可以在没有文件规格的情况下添加组:<br>    Alter database add logfile;</p>
<p>删除组:<br>    Alter database drop logfile group 3;</p>
<h4 id="组-成员信息"><a href="#组-成员信息" class="headerlink" title="组&amp;成员信息"></a>组&amp;成员信息</h4><p>可以通过查询以下视图获取组及其成员的信息:</p>
<ul>
<li>V$LOG</li>
<li>V$LOGFILE</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/60eeaa63c018439fadf7bf241a420130.png"></p>
<h4 id="什么是重做线程"><a href="#什么是重做线程" class="headerlink" title="什么是重做线程?"></a>什么是重做线程?</h4><p>当在多个数据库实例的上下文中说话时，每个数据库实例的重做日志也被称为重做线程。在典型配置中，只有一个数据库实例访问一个Oracle数据库，因此只存在一个线程。然而，在Oracle真实应用集群环境中，两个或多个实例并发访问一个数据库，每个实例都有自己的重做线程。每个实例单独的重做线程避免了对一组重做日志文件的争用，从而消除了潜在的性能瓶颈。</p>
<h4 id="归档的重做日志文件"><a href="#归档的重做日志文件" class="headerlink" title="归档的重做日志文件"></a>归档的重做日志文件</h4><ul>
<li>由ARCn自动完成</li>
<li>通过SQL语句手动完成归档成功时:</li>
<li>在控制文件中做一个条目记录:存档日志名称、日志序号、高低系统变更号(SCN)</li>
<li>填满的在线重做日志文件不能被重用，直到:检查点已经发生—文件已被ARCn归档</li>
<li>能复用吗</li>
<li>由DBA维护</li>
</ul>
<blockquote>
<p>填满的在线重做日志文件可以归档。</p>
<p>以ARCHIVELOG模式运行数据库并存档在线重做日志文件有两个优点:</p>
<ul>
<li>恢复:数据库备份以及联机和归档的重做日志文件可以保证恢复所有已提交的事务。</li>
<li>备份:这可以在数据库打开时执行。</li>
</ul>
<p>默认情况下，数据库创建在无归档日志模式。</p>
</blockquote>
<h2 id="表空间和数据文件"><a href="#表空间和数据文件" class="headerlink" title="表空间和数据文件"></a>表空间和数据文件</h2><p>Oracle逻辑上将数据存储在表空间中，物理上将数据存储在数据文件中。</p>
<h3 id="表空间"><a href="#表空间" class="headerlink" title="表空间:"></a>表空间:</h3><ul>
<li>一次只能属于一个数据库</li>
<li>由一个或多个数据文件组成</li>
<li>是否进一步划分为逻辑存储单元</li>
</ul>
<h3 id="数据文件"><a href="#数据文件" class="headerlink" title="数据文件:"></a>数据文件:</h3><p>能只属于一个表空间和一个数据库</p>
<p>是模式对象数据的存储库</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/d500eb06aa434047addd06a5bc4bb739.png"></p>
<h3 id="表空间的类型"><a href="#表空间的类型" class="headerlink" title="表空间的类型"></a>表空间的类型</h3><p>SYSTEM表空间</p>
<p>用数据库创建</p>
<ul>
<li>包含数据字典</li>
<li>包含SYSTEM撤消段</li>
</ul>
<p>非SYSTEM表空间 </p>
<ul>
<li>单独的部分</li>
<li>简化空间管理</li>
<li>控制分配给用户的空间量</li>
</ul>
<blockquote>
<p>permanent（永久表空间）、undo、temporary（临时表空间）</p>
</blockquote>
<h3 id="创建表空间"><a href="#创建表空间" class="headerlink" title="创建表空间"></a>创建表空间</h3><p>创建表空间的命令如下:<br>    CREATE TABLESPACE userdataDATAFILE ‘&#x2F;u01&#x2F;oradata&#x2F;userdata01.dbf’ SIZE 5M;</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/63e8705a98c64688afa32ae01596b3a9.png"></p>
<h3 id="表空间中的空间管理"><a href="#表空间中的空间管理" class="headerlink" title="表空间中的空间管理"></a>表空间中的空间管理</h3><p>本地管理表空间:</p>
<ul>
<li>在表空间中管理空闲区。</li>
<li>位图用于记录空闲区。</li>
<li>每个位对应一个或一组块。</li>
<li>位值表示空闲或已使用。</li>
</ul>
<p>Dictionary-managed表空间:</p>
<ul>
<li>空闲区由数据字典管理。</li>
<li>当区段被分配或释放时，相应的表被更新。</li>
</ul>
<h4 id="Dictionary-Managed-TS"><a href="#Dictionary-Managed-TS" class="headerlink" title="Dictionary-Managed TS"></a>Dictionary-Managed TS</h4><ul>
<li><p>区段在数据字典中管理。</p>
</li>
<li><p>存储在表空间中的每个段可以有不同的存储子句。</p>
</li>
<li><p>需要进行Coalescing。<br>CREATE TABLE userdataDATAFILE ‘&#x2F;u01&#x2F;oradata&#x2F;userdata01.dbf’SIZE 500M EXTENT MANAGENT DICTIONARYDEFAULT STORAGE(initial 1M NEXT 1M PCTINCREASE);</p>
</li>
</ul>
<h4 id="迁移DM-SYSTEM-TS"><a href="#迁移DM-SYSTEM-TS" class="headerlink" title="迁移DM SYSTEM TS"></a>迁移DM SYSTEM TS</h4><p>将字典管理的SYSTEM表空间迁移到本地管理:</p>
<ol>
<li><p> 对数据库做一个完整的备份。</p>
</li>
<li><p> 确保数据库有一个非SYSTEM的默认临时表空间。使用CREATE TEMPORARY TABLESPACE命令创建临时表空间。</p>
</li>
<li><p> 在字典管理的表空间中消除任何撤消(回滚)段。</p>
</li>
<li><p> 本地管理的表空间中至少应该有一个在线撤销段，或者撤销表空间应该是在线的。</p>
</li>
<li><p> 除了包含undo空间和默认临时表空间的表空间外，所有表空间都应该设置为READ ONLY模式。</p>
</li>
<li><p> 以受限模式启动实例。</p>
</li>
<li><p> 迁移SYSTEM表空间:<br> DBMS_SPACE_ADMIN. TABLESPACE_MIGRATE_mig_TO_LOCAL(‘SYSTEM’);</p>
</li>
</ol>
<h3 id="Undo-Tablespace"><a href="#Undo-Tablespace" class="headerlink" title="Undo Tablespace"></a>Undo Tablespace</h3><ul>
<li><p>用于存储undo段</p>
</li>
<li><p>不能包含任何其他对象</p>
</li>
<li><p>区段是本地管理的</p>
</li>
<li><p>只能使用DATAFILE和EXTENT MANAGEMENT子句<br>CREATE UNDO TABLESPACE undo1DATAFILE ‘&#x2F;u01&#x2F;oradata&#x2F;undo01.dbf’ SIZE 40M;</p>
</li>
</ul>
<h3 id="Temporary-Tablespaces（临时表空间）"><a href="#Temporary-Tablespaces（临时表空间）" class="headerlink" title="Temporary Tablespaces（临时表空间）"></a>Temporary Tablespaces（临时表空间）</h3><ul>
<li><p>用于排序操作</p>
</li>
<li><p>能被多个用户共享</p>
</li>
<li><p>不能包含任何永久对象</p>
</li>
<li><p>建议使用本地管理的区段<br>CREATE TEMPORARY TABLESPACE tempTEMPFILE ‘u01&#x2F;oradata&#x2F;temp01.dbf’ SIZE 20MEXTENT MANAGEMENT LOCAL UNIFORM SIZE 4M;</p>
</li>
</ul>
<blockquote>
<p>当SYSTEM表空间是本地管理时，在创建数据库时必须至少定义一个默认的临时表空间。本地管理的SYSTEM表空间不能用作默认临时存储。</p>
<p>如果SYSTEM是字典管理的，并且在创建数据库时没有定义默认的临时表空间，那么SYSTEM仍然用于默认的临时存储。然而，你会在ALERT.LOG中收到一个警告，说默认临时表空间是推荐的，并且在未来的版本中是必要的。</p>
</blockquote>
<h3 id="Defauit-Temporary-TS（默认临时表空间）"><a href="#Defauit-Temporary-TS（默认临时表空间）" class="headerlink" title="Defauit Temporary TS（默认临时表空间）"></a>Defauit Temporary TS（默认临时表空间）</h3><p>指定数据库范围的默认临时表空间</p>
<p>避免使用SYSTEM表空间存储临时数据</p>
<p>可以使用以下命令创建:<br>    CREATE DATBASEALER DATABASE</p>
<h4 id="创建默认临时表空间"><a href="#创建默认临时表空间" class="headerlink" title="创建默认临时表空间"></a>创建默认临时表空间</h4><p>在数据库创建过程中：<br>    CREATE DATABASE DBA01LOGFILEGROUP 1 (‘&#x2F;SHOME&#x2F;ORADATA&#x2F;u01&#x2F;redo01.log’)SIZE 100MGROUP 2 (‘&#x2F;SHOME&#x2F;ORADATA&#x2F;u02&#x2F;redo02.log’)SIZE 100MMAXLOGFILES 5MAXLOGMEMBERS 5MAXLOGHISTORY 1MAXDATAFILES 100MAXINSTANCES 1DATAFILE，&#x2F;SHOME&#x2F;ORADATA&#x2F;u01&#x2F;system01.dbf’ SIZE 325MUNDO TABLESPACE undotbsDATAFILE9&#x2F;SHOME&#x2F;ORADATA&#x2F;u02&#x2F;undotbs01.dbf’ SIZE 200DEFAULT TEMPORARY TABLESPACE tempTEMPFILE’&#x2F;SHOME&#x2F;ORADATA&#x2F;u03&#x2F;temp01.dbf’ SIZE 4GCHARACTER SET US7ASCII</p>
<p>数据库创建后：<br>    ALTER DATAASEDEFAULT TEMPORARY TABLESPACE default_temp2;</p>
<p>查找数据库查询DATABASE_PROPERTIES的默认临时表空间：<br>    SELECT * from DATABASE_PROPERTIES;</p>
<blockquote>
<p>限制</p>
<p>默认临时表空间不能为:</p>
<ul>
<li>在新的默认表空间可用之前删除</li>
<li>离线</li>
<li>修改为永久表空间</li>
</ul>
</blockquote>
<p>只读表空间</p>
<p>使用以下命令将表空间设置为只读模式:<br>    ALTER TABLESPACE userdata READ ONLY;</p>
<ul>
<li>引起检查点</li>
<li>只能用于读操作的数据</li>
<li>对象可以从表空间中删除</li>
</ul>
<h3 id="使表空间离线"><a href="#使表空间离线" class="headerlink" title="使表空间离线"></a>使表空间离线</h3><ul>
<li>不可用于数据访问</li>
<li>不能离线的表空间:SYSTEM tablespace</li>
<li>具有活动undo段的表空间</li>
<li>默认临时表空间</li>
</ul>
<p>使表空间离线：<br>    ALTER TABLESPACE userdata OFFLINE;</p>
<p>使表空间在线：<br>    ALTER TABLESPACE userdata ONLINE;</p>
<h3 id="更改存储设置"><a href="#更改存储设置" class="headerlink" title="更改存储设置"></a>更改存储设置</h3><p>使用修改表空间命令修改存储设置:<br>    ALTER TABLESPACE userdata MINIMUM EXTENT 2M;</p>
<pre><code>ALTER TABLESPACE userdataDEFAULT STORAGE (INITIAL 2M NEXT 2M MAXEXTENTS 999);
</code></pre>
<blockquote>
<p>本地管理的表空间的存储设置不能被修改。</p>
</blockquote>
<h3 id="调整表空间大小"><a href="#调整表空间大小" class="headerlink" title="调整表空间大小"></a>调整表空间大小</h3><p>表空间可以通过以下方式调整大小:</p>
<p>1.修改数据文件的大小:</p>
<ul>
<li>自动使用AUTOEXTEND</li>
<li>手动使用ALTER DATABASE</li>
</ul>
<p>2.使用ALTER TABLESPACE添加数据文件</p>
<h4 id="启用自动扩展"><a href="#启用自动扩展" class="headerlink" title="启用自动扩展"></a>启用自动扩展</h4><p>可以使用以下命令自动调整大小:</p>
<ul>
<li>CREATE DATABASE</li>
<li>CREATE TABLESPACE</li>
<li>ALTER TABLESPACE … ADD DATAFILE</li>
</ul>
<p>例子:<br>    CREATE TABLESPACE user_dataDATAFILE’&#x2F;u01&#x2F;oradata&#x2F;userdata01.dbf’ SIZE 200MAUTOEXTEND ON NEXT 10m MAXSIZE 500M;</p>
<p>查询DBA_DATA_FILES视图，确定是否启用了AUTOEXTEND。</p>
<h4 id="手动调整数据文件大小"><a href="#手动调整数据文件大小" class="headerlink" title="手动调整数据文件大小"></a>手动调整数据文件大小</h4><ul>
<li><p>手动增加或减少数据文件的大小更改数据库。</p>
</li>
<li><p>调整数据文件大小可以在不添加更多数据文件的情况下增加空间。</p>
</li>
<li><p>手动调整数据文件大小会回收数据库中未使用的空间。</p>
</li>
<li><p>例子:<br>ALTER DATABASEDATAFILE ‘&#x2F;u03&#x2F;oradata&#x2F;userdata02.dbf’RESIZE 200M;</p>
</li>
</ul>
<h4 id="向表空间添加数据文件"><a href="#向表空间添加数据文件" class="headerlink" title="向表空间添加数据文件"></a>向表空间添加数据文件</h4><ul>
<li><p>通过添加额外的数据文件来增加分配给表空间的空间</p>
</li>
<li><p>添加DATAFILE子句用于添加数据文件</p>
</li>
<li><p>例子:<br>ALTER TABLESPACE user_dataADD DATAFILE ‘&#x2F;u01&#x2F;oradata&#x2F;userdata03.dbf’SIZE 200M;</p>
</li>
</ul>
<h3 id="移动数据文件的方法"><a href="#移动数据文件的方法" class="headerlink" title="移动数据文件的方法"></a>移动数据文件的方法</h3><h4 id="ALTER-TABLESPACE"><a href="#ALTER-TABLESPACE" class="headerlink" title="ALTER TABLESPACE"></a>ALTER TABLESPACE</h4><ul>
<li><p>表空间必须离线。</p>
</li>
<li><p>目标数据文件必须存在。<br>ALTER TABLESPACE userdata RENAMEDATTAFILE ‘&#x2F;u01&#x2F;oradata&#x2F;userdata01.dbf’Tо ‘&#x2F;u02&#x2F;oradata&#x2F;userdata01.dbf’;</p>
</li>
</ul>
<h4 id="ALTER-DATABASE"><a href="#ALTER-DATABASE" class="headerlink" title="ALTER DATABASE"></a>ALTER DATABASE</h4><ul>
<li><p>必须挂载数据库(MOUNTED)。</p>
</li>
<li><p>目标数据文件必须存在。<br>ALTER DATABASE RENAMEFILE ‘&#x2F;u01&#x2F;oradata&#x2F;system01.dbf’TO ‘&#x2F;u03&#x2F;oradata&#x2F;system01.dbf’;</p>
</li>
</ul>
<h3 id="删除表空间"><a href="#删除表空间" class="headerlink" title="删除表空间"></a>删除表空间</h3><p>不能删除表空间，如果它:</p>
<ul>
<li>是SYSTEM表空间</li>
<li>有活动的段</li>
</ul>
<p>包括内容删除段。</p>
<p>包括内容和数据文件删除数据文件。</p>
<p>级联约束删除所有引用完整性约束。<br>    DROP TABLESPACE userdataINCLUDING CONTENTS AND DATAFILES;</p>
<h3 id="获取表空间信息"><a href="#获取表空间信息" class="headerlink" title="获取表空间信息"></a>获取表空间信息</h3><p>获取表空间信息和数据文件信息可通过以下查询方式获取:</p>
<p>表空间信息:<br>    DBA_TABLESPACESV$TABLESPACE</p>
<p>数据文件信息:<br>    DBA_DATA_FILESV$DATAFILE</p>
<p>临时文件信息:<br>    DBA_TEMP_FILESV$TEMPFILES</p>
<h3 id="存储层次结构摘要"><a href="#存储层次结构摘要" class="headerlink" title="存储层次结构摘要"></a>存储层次结构摘要</h3><ol>
<li>数据库由一个或多个表空间组成。</li>
<li>一个表空间由一个或多个数据文件组成。这些文件可能是文件系统中的cooked file，原始分区（raw partition），ASM 管理的数据库文件，或者是群集文件系统（clustered file system）中的文件。一个表空间包含段（segments）。</li>
<li>一个段(TABLE, INDEX等)由一个或多个区段组成。一个段存在于一个表空间中，但可能在该表空间内的许多数据文件中有数据。</li>
<li>区段是磁盘上逻辑上连续的一组块。区段位于单个表空间中，而且始终位于该表空间中的单个文件中。</li>
<li>块是数据库中最小的分配单位。块是数据库使用的最小I&#x2F;O单位。</li>
</ol>
<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/ed2b07a29c794e03b70c72cdbfed74af.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/57cc0316bbb04893bdcae871f1367879.png"></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="http://1414116846.github.io">爱摆烂的奇犽</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://1414116846.github.io/1970/01/01/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-1/">http://1414116846.github.io/1970/01/01/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-1/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E7%AC%94%E8%AE%B0/">笔记</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/1414116846/bloglmages@main/C:%5Chexo%5Csource%5Cpic7975408281e749e489194eb45d269110.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-full"><a href="/2023/02/14/ypy%E6%A8%A1%E6%9D%BF/" title="算法模板"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">算法模板</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i.postimg.cc/kXfPYMJq/61-B873-E5-E4-E1560-BF176671412-B9-C1-C5.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">爱摆烂的奇犽</div><div class="author-info__description">不要等到明天，见天就行动起来！！</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">12</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#oracle%E4%BD%93%E7%B3%BB%E6%9E%B6%E6%9E%84%E6%80%BB%E8%A7%88%E5%9B%BE%EF%BC%8C%E5%BF%85%E9%A1%BB%E6%8E%8C%E6%8F%A1%E8%AF%A5%E5%9B%BE%EF%BC%8C%E4%BA%86%E5%A6%82%E6%8C%87%E6%8E%8C"><span class="toc-number">1.</span> <span class="toc-text">oracle体系架构总览图，必须掌握该图，了如指掌</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-number">1.1.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-Oracle-server"><span class="toc-number">1.2.</span> <span class="toc-text">1.Oracle server</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-Oracle-Instance"><span class="toc-number">1.3.</span> <span class="toc-text">2.Oracle Instance</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E7%BB%84%E6%88%90%EF%BC%9A"><span class="toc-number">1.3.1.</span> <span class="toc-text">关键组成：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%BB%93%E6%9E%84%EF%BC%9A"><span class="toc-number">1.3.2.</span> <span class="toc-text">进程结构：</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-Oracle-Database"><span class="toc-number">1.4.</span> <span class="toc-text">3.Oracle Database</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Data-files"><span class="toc-number">1.4.1.</span> <span class="toc-text">Data files</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Control-files"><span class="toc-number">1.4.2.</span> <span class="toc-text">Control files</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#RedoLog-files"><span class="toc-number">1.4.3.</span> <span class="toc-text">RedoLog files</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E6%96%87%E4%BB%B6"><span class="toc-number">1.4.4.</span> <span class="toc-text">其他文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Oracle-database%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">1.4.5.</span> <span class="toc-text">Oracle database的特点</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-Connection-Session-%EF%BC%88%E8%BF%9E%E6%8E%A5%E4%B8%8E%E4%BC%9A%E8%AF%9D%EF%BC%89"><span class="toc-number">1.5.</span> <span class="toc-text">4.Connection &amp; Session （连接与会话）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#connection"><span class="toc-number">1.5.1.</span> <span class="toc-text">connection</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Session"><span class="toc-number">1.5.2.</span> <span class="toc-text">Session</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-Memory-Structure"><span class="toc-number">1.6.</span> <span class="toc-text">5.Memory Structure</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#SGA%EF%BC%88System-Global-Area%EF%BC%89%EF%BC%9A"><span class="toc-number">1.6.1.</span> <span class="toc-text">SGA（System Global Area）：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#PGA%EF%BC%88Program-Global-Area%EF%BC%89%EF%BC%9A"><span class="toc-number">1.6.2.</span> <span class="toc-text">PGA（Program Global Area）：</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-Oracle%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84"><span class="toc-number">1.7.</span> <span class="toc-text">6.Oracle逻辑结构</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DBA%E5%B7%A5%E5%85%B7"><span class="toc-number"></span> <span class="toc-text">DBA工具</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Oracle-Universal-Installer%EF%BC%88OUI%EF%BC%89"><span class="toc-number">1.</span> <span class="toc-text">1.Oracle Universal Installer（OUI）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Oracle-Database-Configuration%EF%BC%88DBCA%EF%BC%89"><span class="toc-number">2.</span> <span class="toc-text">2.Oracle Database Configuration（DBCA）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E5%91%98%E7%94%A8%E6%88%B7"><span class="toc-number">2.1.</span> <span class="toc-text">数据库管理员用户</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E4%BC%9A%E8%87%AA%E5%8A%A8%E5%88%9B%E5%BB%BA%E2%80%9CSYS%E2%80%9D%E5%92%8C%E2%80%9CSYSTEM%E2%80%9D%E7%94%A8%E6%88%B7"><span class="toc-number">2.1.1.</span> <span class="toc-text">系统会自动创建“SYS”和“SYSTEM”用户</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#User-SYS"><span class="toc-number">2.1.2.</span> <span class="toc-text">User SYS</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#User-SYSTEM"><span class="toc-number">2.1.3.</span> <span class="toc-text">User SYSTEM</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-SQL-Plus"><span class="toc-number">3.</span> <span class="toc-text">3.SQL*Plus</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-Oracle-Enterprise-Manager%EF%BC%88%E4%BA%86%E8%A7%A3%EF%BC%89"><span class="toc-number">4.</span> <span class="toc-text">4.Oracle Enterprise Manager（了解）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8F%82%E6%95%B0%E6%96%87%E4%BB%B6"><span class="toc-number"></span> <span class="toc-text">初始化参数文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#-1"><span class="toc-number">1.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PFILE"><span class="toc-number">2.</span> <span class="toc-text">PFILE</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAPFILE"><span class="toc-number">2.1.</span> <span class="toc-text">创建一个PFILE</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9initSID-ora"><span class="toc-number">2.2.</span> <span class="toc-text">修改initSID.ora</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-2"><span class="toc-number">3.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SPFILE"><span class="toc-number">4.</span> <span class="toc-text">SPFILE</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AASPFILE"><span class="toc-number">4.1.</span> <span class="toc-text">创建一个SPFILE</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9spfileSID-ora"><span class="toc-number">4.2.</span> <span class="toc-text">修改spfileSID.ora</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%A5%E4%B8%8B%E6%98%AF%E4%BF%AE%E6%94%B9-spfileSID-ora-%E7%9A%84%E4%B8%80%E8%88%AC%E6%AD%A5%E9%AA%A4%EF%BC%9A"><span class="toc-number">4.2.1.</span> <span class="toc-text">以下是修改 spfileSID.ora 的一般步骤：</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%9B%B4%E5%8A%A0%E8%AF%A6%E7%BB%86%E7%9A%84%E8%AF%B4%E6%98%8E%E4%BF%AE%E6%94%B9PFILE"><span class="toc-number">4.2.1.1.</span> <span class="toc-text">更加详细的说明修改PFILE</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SPFILE-vs-PFILE"><span class="toc-number">5.</span> <span class="toc-text">SPFILE vs PFILE</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-3"><span class="toc-number">6.</span> <span class="toc-text"></span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Oracle%E6%95%B0%E6%8D%AE%E5%BA%93%E5%90%AF%E5%8A%A8"><span class="toc-number"></span> <span class="toc-text">Oracle数据库启动</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#-4"><span class="toc-number">1.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%BA"><span class="toc-number">2.</span> <span class="toc-text">启动命令行为</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%98%E5%85%88%E9%A1%BA%E5%BA%8F"><span class="toc-number">2.1.</span> <span class="toc-text">优先顺序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%87%E5%AE%9A%E7%9A%84PFILE%E5%8F%AF%E4%BB%A5%E8%A6%86%E7%9B%96%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-number">2.2.</span> <span class="toc-text">指定的PFILE可以覆盖优先级</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#PFILE%E5%8F%AF%E4%BB%A5%E6%8C%87%E7%A4%BA%E4%BD%BF%E7%94%A8SPFILE"><span class="toc-number">2.3.</span> <span class="toc-text">PFILE可以指示使用SPFILE</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%81%E5%8F%AF%E4%BB%A5%E5%90%AF%E5%8A%A8DB"><span class="toc-number">3.</span> <span class="toc-text">谁可以启动DB?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-5"><span class="toc-number">4.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%90%AF%E5%8A%A8%E7%9A%84%E8%BF%87%E7%A8%8B%EF%BC%9A"><span class="toc-number">5.</span> <span class="toc-text">数据库启动的过程：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Instance%E5%A6%82%E4%BD%95started"><span class="toc-number">5.1.</span> <span class="toc-text">Instance如何started</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DB%E6%80%8E%E4%B9%88%E8%A2%ABMounted"><span class="toc-number">5.2.</span> <span class="toc-text">DB怎么被Mounted</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DB%E6%80%8E%E6%A0%B7Opened"><span class="toc-number">5.3.</span> <span class="toc-text">DB怎样Opened</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#START-%E5%91%BD%E4%BB%A4"><span class="toc-number">6.</span> <span class="toc-text">START 命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ALTER-DATABASE-%E5%91%BD%E4%BB%A4"><span class="toc-number">6.1.</span> <span class="toc-text">ALTER DATABASE 命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%97%E9%99%90%E6%A8%A1%E5%BC%8F"><span class="toc-number">6.2.</span> <span class="toc-text">受限模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AA%E8%AF%BB%E6%A8%A1%E5%BC%8F"><span class="toc-number">6.3.</span> <span class="toc-text">只读模式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%85%B3%E9%97%AD"><span class="toc-number"></span> <span class="toc-text">数据库关闭</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Shutdown-mode%EF%BC%9A"><span class="toc-number">1.</span> <span class="toc-text">Shutdown mode：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%8A%E6%96%AD%E6%96%87%E4%BB%B6%EF%BC%88%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6%EF%BC%89"><span class="toc-number"></span> <span class="toc-text">诊断文件（日志文件）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%EF%BC%9A"><span class="toc-number">1.</span> <span class="toc-text">作用：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%89%E5%87%A0%E7%A7%8D%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.</span> <span class="toc-text">有几种类型:</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Alert-Log-File%EF%BC%88%E6%97%A5%E5%BF%97%E8%AD%A6%E5%91%8A%E6%96%87%E4%BB%B6%EF%BC%89"><span class="toc-number">2.1.</span> <span class="toc-text">Alert Log File（日志警告文件）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Background-Trace-Files%EF%BC%88%E5%90%8E%E5%8F%B0%E8%B7%9F%E8%B8%AA%E6%96%87%E4%BB%B6%EF%BC%89"><span class="toc-number">2.2.</span> <span class="toc-text">Background Trace Files（后台跟踪文件）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#User-Trace-Files%EF%BC%88%E7%94%A8%E6%88%B7%E8%B7%9F%E8%B8%AA%E6%96%87%E4%BB%B6%EF%BC%89"><span class="toc-number">2.3.</span> <span class="toc-text">User Trace Files（用户跟踪文件）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%90%AF%E7%94%A8-%E7%A6%81%E7%94%A8-User-Tracing"><span class="toc-number">2.3.1.</span> <span class="toc-text">启用&#x2F;禁用 User Tracing</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BC%9A%E8%AF%9D%E5%B1%82"><span class="toc-number">2.3.1.1.</span> <span class="toc-text">会话层:</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E7%BA%A7"><span class="toc-number">2.3.1.2.</span> <span class="toc-text">实例级</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99"><span class="toc-number">3.</span> <span class="toc-text">命名规则</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number"></span> <span class="toc-text">创建一个数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%84%E5%88%92%E5%92%8C%E7%BB%84%E7%BB%87%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.</span> <span class="toc-text">规划和组织数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#OFA%E8%A7%84%E8%8C%83%EF%BC%88Optimal-Flexible-Arch%EF%BC%89"><span class="toc-number">2.</span> <span class="toc-text">OFA规范（Optimal Flexible Arch）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BD%AF%E4%BB%B6%E5%92%8C%E6%96%87%E4%BB%B6%E4%BD%8D%E7%BD%AE"><span class="toc-number">3.</span> <span class="toc-text">软件和文件位置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E9%80%A0%E5%85%88%E5%86%B3%E6%9D%A1%E4%BB%B6"><span class="toc-number">4.</span> <span class="toc-text">创造先决条件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">5.</span> <span class="toc-text">创建数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#DBCA%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">5.1.</span> <span class="toc-text">DBCA创建数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BF%87%E7%A8%8B%EF%BC%9A"><span class="toc-number">5.1.1.</span> <span class="toc-text">过程：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%8E%AF%E5%A2%83%EF%BC%9A"><span class="toc-number">5.1.2.</span> <span class="toc-text">操作系统环境：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8DBCA%E5%8F%AF%E4%BB%A5"><span class="toc-number">5.1.3.</span> <span class="toc-text">使用DBCA可以:</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%8B%E5%8A%A8%E5%88%9B%E5%BB%BADB"><span class="toc-number">5.2.</span> <span class="toc-text">手动创建DB</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A41-%E6%8C%87%E5%AE%9A%E5%AE%9E%E4%BE%8B%E6%A0%87%E8%AF%86%E7%AC%A6-SID"><span class="toc-number">5.2.1.</span> <span class="toc-text">步骤1:指定实例标识符(SID)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A42-%E7%A1%AE%E4%BF%9D%E8%AE%BE%E7%BD%AE%E4%BA%86%E6%89%80%E9%9C%80%E7%9A%84%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">5.2.2.</span> <span class="toc-text">步骤2:确保设置了所需的环境变量</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%EF%BC%9A"><span class="toc-number">5.2.2.1.</span> <span class="toc-text">环境变量：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A43-%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E5%91%98%E8%BA%AB%E4%BB%BD%E9%AA%8C%E8%AF%81%E6%96%B9%E6%B3%95"><span class="toc-number">5.2.3.</span> <span class="toc-text">步骤3:选择数据库管理员身份验证方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A44-%E5%88%9B%E5%BB%BA%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8F%82%E6%95%B0%E6%96%87%E4%BB%B6%EF%BC%88pfile%EF%BC%89"><span class="toc-number">5.2.4.</span> <span class="toc-text">步骤4:创建初始化参数文件（pfile）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A45-%E8%BF%9E%E6%8E%A5%E5%88%B0%E5%AE%9E%E4%BE%8B"><span class="toc-number">5.2.5.</span> <span class="toc-text">步骤5:连接到实例</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A46-%E5%88%9B%E5%BB%BASPFILE%EF%BC%88%E5%8F%AF%E9%80%89%EF%BC%89"><span class="toc-number">5.2.6.</span> <span class="toc-text">步骤6:创建SPFILE（可选）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A47-%E5%90%AF%E5%8A%A8%E5%AE%9E%E4%BE%8B"><span class="toc-number">5.2.7.</span> <span class="toc-text">步骤7:启动实例</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A48-%E4%BD%BF%E7%94%A8CREATE-DATABASE%E8%AF%AD%E5%8F%A5"><span class="toc-number">5.2.8.</span> <span class="toc-text">步骤8:使用CREATE DATABASE语句</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A49-%E5%88%9B%E5%BB%BA%E9%A2%9D%E5%A4%96%E7%9A%84%E8%A1%A8%E7%A9%BA%E9%97%B4"><span class="toc-number">5.2.9.</span> <span class="toc-text">步骤9:创建额外的表空间</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A410-%E8%BF%90%E8%A1%8C%E8%84%9A%E6%9C%AC%E6%9D%A5%E6%9E%84%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8%E8%A7%86%E5%9B%BE"><span class="toc-number">5.2.10.</span> <span class="toc-text">步骤10:运行脚本来构建数据字典视图</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8OMF%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">5.3.</span> <span class="toc-text">使用OMF创建数据库</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4"><span class="toc-number">6.</span> <span class="toc-text">故障排除</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%9B%E5%BB%BA%E5%90%8E"><span class="toc-number">7.</span> <span class="toc-text">数据库创建后</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E7%BD%AE%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AF%B9%E8%B1%A1"><span class="toc-number"></span> <span class="toc-text">内置数据库对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8%EF%BC%88Data-Dictionary%EF%BC%89"><span class="toc-number"></span> <span class="toc-text">数据字典（Data Dictionary）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Base-Tables-DD-Views"><span class="toc-number">1.</span> <span class="toc-text">Base Tables &amp; DD Views</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BADD-Views"><span class="toc-number">2.</span> <span class="toc-text">创建DD Views</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8%E5%86%85%E5%AE%B9"><span class="toc-number">3.</span> <span class="toc-text">数据字典内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8DD"><span class="toc-number">4.</span> <span class="toc-text">如何使用DD</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DD%E8%A7%86%E5%9B%BE%E7%B1%BB%E5%88%AB"><span class="toc-number">5.</span> <span class="toc-text">DD视图类别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E6%80%A7%E8%83%BD%E8%A1%A8%EF%BC%88Dynamic-Performance-Tables%EF%BC%89"><span class="toc-number">6.</span> <span class="toc-text">动态性能表（Dynamic Performance Tables）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Admin%E8%84%9A%E6%9C%AC%E5%91%BD%E5%90%8D"><span class="toc-number">7.</span> <span class="toc-text">Admin脚本命名</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E6%96%87%E4%BB%B6"><span class="toc-number"></span> <span class="toc-text">控制文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E6%96%87%E4%BB%B6%E7%9A%84%E5%A4%A7%E5%B0%8F"><span class="toc-number">1.</span> <span class="toc-text">控制文件的大小</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9"><span class="toc-number">2.</span> <span class="toc-text">控制文件内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8%E6%8E%A7%E5%88%B6%E6%96%87%E4%BB%B6"><span class="toc-number">3.</span> <span class="toc-text">多路复用控制文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E8%B7%AF%E6%8E%A7%E5%88%B6%E6%96%87%E4%BB%B6%E7%9A%84%E8%A1%8C%E4%B8%BA%E6%98%AF%E8%BF%99%E6%A0%B7%E7%9A%84"><span class="toc-number">3.1.</span> <span class="toc-text">多路控制文件的行为是这样的:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BD%93%E4%BD%BF%E7%94%A8SPFILE%E6%97%B6"><span class="toc-number">3.2.</span> <span class="toc-text">当使用SPFILE时</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BD%93%E4%BD%BF%E7%94%A8PFILE%E6%97%B6"><span class="toc-number">3.3.</span> <span class="toc-text">当使用PFILE时</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8OMF"><span class="toc-number">3.4.</span> <span class="toc-text">使用OMF</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E6%8E%A7%E5%88%B6%E6%96%87%E4%BB%B6%E4%BF%A1%E6%81%AF"><span class="toc-number">3.5.</span> <span class="toc-text">获取控制文件信息</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%B4%E6%8A%A4%E5%9C%A8%E7%BA%BF%E9%87%8D%E5%81%9A%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6%EF%BC%88Online-Redo-log-file%EF%BC%89"><span class="toc-number"></span> <span class="toc-text">维护在线重做日志文件（Online Redo log file）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8%E7%BA%BF%E9%87%8D%E5%81%9A%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6%E5%85%B7%E6%9C%89%E4%BB%A5%E4%B8%8B%E7%89%B9%E7%82%B9"><span class="toc-number">0.1.</span> <span class="toc-text">在线重做日志文件具有以下特点:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8D%E5%81%9A%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84"><span class="toc-number">0.2.</span> <span class="toc-text">重做文件结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8%E7%BA%BF%E9%87%8D%E5%81%9A%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6%E7%BB%84"><span class="toc-number">0.3.</span> <span class="toc-text">在线重做日志文件组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8%E7%BA%BF%E9%87%8D%E5%81%9A%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6%E6%88%90%E5%91%98"><span class="toc-number">0.4.</span> <span class="toc-text">在线重做日志文件成员</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E8%B7%AF%E9%87%8D%E5%81%9A%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6"><span class="toc-number">0.5.</span> <span class="toc-text">多路重做日志文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8D%E5%81%9A%E6%96%87%E4%BB%B6%E5%A6%82%E4%BD%95%E5%B7%A5%E4%BD%9C"><span class="toc-number">0.6.</span> <span class="toc-text">重做文件如何工作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LGWR%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E5%86%99%E9%87%8D%E5%81%9A"><span class="toc-number">0.7.</span> <span class="toc-text">LGWR什么时候写重做?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LS-LSN"><span class="toc-number">0.8.</span> <span class="toc-text">LS &amp; LSN</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%BA%E5%88%B6%E6%97%A5%E5%BF%97%E5%BC%80%E5%85%B3%E5%92%8CCK"><span class="toc-number">0.9.</span> <span class="toc-text">强制日志开关和CK</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E9%87%8D%E5%81%9A%E6%96%87%E4%BB%B6%E7%BB%84"><span class="toc-number">0.10.</span> <span class="toc-text">添加重做文件组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0Redo%E6%96%87%E4%BB%B6%E6%88%90%E5%91%98"><span class="toc-number">0.11.</span> <span class="toc-text">添加Redo文件成员</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4Redo%E6%96%87%E4%BB%B6%E6%88%90%E5%91%98"><span class="toc-number">0.12.</span> <span class="toc-text">删除Redo文件成员</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E9%87%8D%E5%81%9A%E6%96%87%E4%BB%B6%E7%BB%84"><span class="toc-number">0.13.</span> <span class="toc-text">删除重做文件组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%90%AC%E8%BF%81%E5%92%8C%E9%87%8D%E5%91%BD%E5%90%8D"><span class="toc-number">0.14.</span> <span class="toc-text">搬迁和重命名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B8%85%E9%99%A4%E9%87%8D%E5%81%9A%E6%96%87%E4%BB%B6"><span class="toc-number">0.15.</span> <span class="toc-text">清除重做文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8OMF%E7%AE%A1%E7%90%86%E9%87%8D%E5%81%9A%E6%96%87%E4%BB%B6"><span class="toc-number">0.16.</span> <span class="toc-text">用OMF管理重做文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84-%E6%88%90%E5%91%98%E4%BF%A1%E6%81%AF"><span class="toc-number">0.17.</span> <span class="toc-text">组&amp;成员信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E9%87%8D%E5%81%9A%E7%BA%BF%E7%A8%8B"><span class="toc-number">0.18.</span> <span class="toc-text">什么是重做线程?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BD%92%E6%A1%A3%E7%9A%84%E9%87%8D%E5%81%9A%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6"><span class="toc-number">0.19.</span> <span class="toc-text">归档的重做日志文件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A8%E7%A9%BA%E9%97%B4%E5%92%8C%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6"><span class="toc-number"></span> <span class="toc-text">表空间和数据文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A8%E7%A9%BA%E9%97%B4"><span class="toc-number">1.</span> <span class="toc-text">表空间:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6"><span class="toc-number">2.</span> <span class="toc-text">数据文件:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A8%E7%A9%BA%E9%97%B4%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.</span> <span class="toc-text">表空间的类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%A1%A8%E7%A9%BA%E9%97%B4"><span class="toc-number">4.</span> <span class="toc-text">创建表空间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A8%E7%A9%BA%E9%97%B4%E4%B8%AD%E7%9A%84%E7%A9%BA%E9%97%B4%E7%AE%A1%E7%90%86"><span class="toc-number">5.</span> <span class="toc-text">表空间中的空间管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Dictionary-Managed-TS"><span class="toc-number">5.1.</span> <span class="toc-text">Dictionary-Managed TS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%81%E7%A7%BBDM-SYSTEM-TS"><span class="toc-number">5.2.</span> <span class="toc-text">迁移DM SYSTEM TS</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Undo-Tablespace"><span class="toc-number">6.</span> <span class="toc-text">Undo Tablespace</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Temporary-Tablespaces%EF%BC%88%E4%B8%B4%E6%97%B6%E8%A1%A8%E7%A9%BA%E9%97%B4%EF%BC%89"><span class="toc-number">7.</span> <span class="toc-text">Temporary Tablespaces（临时表空间）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Defauit-Temporary-TS%EF%BC%88%E9%BB%98%E8%AE%A4%E4%B8%B4%E6%97%B6%E8%A1%A8%E7%A9%BA%E9%97%B4%EF%BC%89"><span class="toc-number">8.</span> <span class="toc-text">Defauit Temporary TS（默认临时表空间）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E9%BB%98%E8%AE%A4%E4%B8%B4%E6%97%B6%E8%A1%A8%E7%A9%BA%E9%97%B4"><span class="toc-number">8.1.</span> <span class="toc-text">创建默认临时表空间</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E8%A1%A8%E7%A9%BA%E9%97%B4%E7%A6%BB%E7%BA%BF"><span class="toc-number">9.</span> <span class="toc-text">使表空间离线</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%94%B9%E5%AD%98%E5%82%A8%E8%AE%BE%E7%BD%AE"><span class="toc-number">10.</span> <span class="toc-text">更改存储设置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%83%E6%95%B4%E8%A1%A8%E7%A9%BA%E9%97%B4%E5%A4%A7%E5%B0%8F"><span class="toc-number">11.</span> <span class="toc-text">调整表空间大小</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%AF%E7%94%A8%E8%87%AA%E5%8A%A8%E6%89%A9%E5%B1%95"><span class="toc-number">11.1.</span> <span class="toc-text">启用自动扩展</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%8B%E5%8A%A8%E8%B0%83%E6%95%B4%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6%E5%A4%A7%E5%B0%8F"><span class="toc-number">11.2.</span> <span class="toc-text">手动调整数据文件大小</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%91%E8%A1%A8%E7%A9%BA%E9%97%B4%E6%B7%BB%E5%8A%A0%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6"><span class="toc-number">11.3.</span> <span class="toc-text">向表空间添加数据文件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A7%BB%E5%8A%A8%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">12.</span> <span class="toc-text">移动数据文件的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ALTER-TABLESPACE"><span class="toc-number">12.1.</span> <span class="toc-text">ALTER TABLESPACE</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ALTER-DATABASE"><span class="toc-number">12.2.</span> <span class="toc-text">ALTER DATABASE</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E8%A1%A8%E7%A9%BA%E9%97%B4"><span class="toc-number">13.</span> <span class="toc-text">删除表空间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E8%A1%A8%E7%A9%BA%E9%97%B4%E4%BF%A1%E6%81%AF"><span class="toc-number">14.</span> <span class="toc-text">获取表空间信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84%E6%91%98%E8%A6%81"><span class="toc-number">15.</span> <span class="toc-text">存储层次结构摘要</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/10/26/%E6%B5%8B%E8%AF%95/" title="测试"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/1414116846/bloglmages@main/C:%5Chexo%5Csource%5Cpic20231030183504.png" onerror="this.onerror=null;this.src='https://cdn.jsdelivr.net/gh/1414116846/bloglmages@main/C:%5Chexo%5Csource%5Cpic20231028213451.png'" alt="测试"/></a><div class="content"><a class="title" href="/2023/10/26/%E6%B5%8B%E8%AF%95/" title="测试">测试</a><time datetime="2023-10-26T08:08:03.000Z" title="Created 2023-10-26 16:08:03">2023-10-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/10/25/yum%E6%BA%90%E6%9C%AC%E5%9C%B0%E6%90%AD%E5%BB%BA%E5%8F%8A%E6%89%A9%E5%AE%B9/" title="yum源本地搭建及创建盘挂载加扩容"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/1414116846/bloglmages@main/C:%5Chexo%5Csource%5Cpic20231028212851.png" onerror="this.onerror=null;this.src='https://cdn.jsdelivr.net/gh/1414116846/bloglmages@main/C:%5Chexo%5Csource%5Cpic20231028213451.png'" alt="yum源本地搭建及创建盘挂载加扩容"/></a><div class="content"><a class="title" href="/2023/10/25/yum%E6%BA%90%E6%9C%AC%E5%9C%B0%E6%90%AD%E5%BB%BA%E5%8F%8A%E6%89%A9%E5%AE%B9/" title="yum源本地搭建及创建盘挂载加扩容">yum源本地搭建及创建盘挂载加扩容</a><time datetime="2023-10-25T12:48:51.000Z" title="Created 2023-10-25 20:48:51">2023-10-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/10/25/%E5%AE%8F%E5%B3%B0/" title="宏峰"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/1414116846/bloglmages@main/C:%5Chexo%5Csource%5Cpic20231030183436.png" onerror="this.onerror=null;this.src='https://cdn.jsdelivr.net/gh/1414116846/bloglmages@main/C:%5Chexo%5Csource%5Cpic20231028213451.png'" alt="宏峰"/></a><div class="content"><a class="title" href="/2023/10/25/%E5%AE%8F%E5%B3%B0/" title="宏峰">宏峰</a><time datetime="2023-10-25T12:39:30.000Z" title="Created 2023-10-25 20:39:30">2023-10-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/10/25/redhat/" title="Redhat"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/1414116846/bloglmages@main/C:%5Chexo%5Csource%5Cpic20231028220745.png" onerror="this.onerror=null;this.src='https://cdn.jsdelivr.net/gh/1414116846/bloglmages@main/C:%5Chexo%5Csource%5Cpic20231028213451.png'" alt="Redhat"/></a><div class="content"><a class="title" href="/2023/10/25/redhat/" title="Redhat">Redhat</a><time datetime="2023-10-25T00:29:09.000Z" title="Created 2023-10-25 08:29:09">2023-10-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/10/14/linux%E9%94%99%E8%AF%AF%E6%80%BB%E7%BB%93/" title="linux错误总结"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/1414116846/bloglmages@main/C:%5Chexo%5Csource%5Cpic20231030185656.png" onerror="this.onerror=null;this.src='https://cdn.jsdelivr.net/gh/1414116846/bloglmages@main/C:%5Chexo%5Csource%5Cpic20231028213451.png'" alt="linux错误总结"/></a><div class="content"><a class="title" href="/2023/10/14/linux%E9%94%99%E8%AF%AF%E6%80%BB%E7%BB%93/" title="linux错误总结">linux错误总结</a><time datetime="2023-10-14T01:49:07.000Z" title="Created 2023-10-14 09:49:07">2023-10-14</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By 爱摆烂的奇犽</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>